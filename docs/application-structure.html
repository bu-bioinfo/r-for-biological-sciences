<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="10.2 Application Structure | BF591 - R for Biological Sciences" />
<meta property="og:type" content="book" />







<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="10.2 Application Structure | BF591 - R for Biological Sciences">

<title>10.2 Application Structure | BF591 - R for Biological Sciences</title>

<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#syllabus">Syllabus</a>
<ul>
<li><a href="course-schedule.html#course-schedule">Course Schedule</a></li>
<li><a href="instructors.html#instructors">Instructors</a></li>
<li><a href="office-hours.html#office-hours">Office Hours</a></li>
<li><a href="course-values-and-policies.html#course-values-and-policies">Course Values and Policies</a></li>
</ul></li>
<li><a href="introduction.html#introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="who-this-book-is-for.html#who-this-book-is-for"><span class="toc-section-number">1.1</span> Who This Book Is For</a></li>
<li><a href="a-note-about-reinventing-the-wheel.html#a-note-about-reinventing-the-wheel"><span class="toc-section-number">1.2</span> A Note About Reinventing the Wheel</a></li>
<li><a href="sources-and-references.html#sources-and-references"><span class="toc-section-number">1.3</span> Sources and References</a></li>
</ul></li>
<li><a href="data-bio.html#data-bio"><span class="toc-section-number">2</span> Data in Biology</a>
<ul>
<li><a href="a-brief-history-of-data-in-molecular-biology.html#a-brief-history-of-data-in-molecular-biology"><span class="toc-section-number">2.1</span> A Brief History of Data in Molecular Biology</a></li>
<li><a href="biology-as-a-mature-data-science.html#biology-as-a-mature-data-science"><span class="toc-section-number">2.2</span> Biology as a Mature Data Science</a></li>
</ul></li>
<li><a href="preliminaries.html#preliminaries"><span class="toc-section-number">3</span> Preliminaries</a>
<ul>
<li><a href="prelim-r.html#prelim-r"><span class="toc-section-number">3.1</span> The R Language</a></li>
<li><a href="prelim-rstudio.html#prelim-rstudio"><span class="toc-section-number">3.2</span> RStudio</a></li>
<li><a href="prog-the-r-script.html#prog-the-r-script"><span class="toc-section-number">3.3</span> The R Script</a></li>
<li><a href="prog-workflow.html#prog-workflow"><span class="toc-section-number">3.4</span> The Scripting Workflow</a></li>
<li><a href="prelim-git.html#prelim-git"><span class="toc-section-number">3.5</span> git + github</a>
<ul>
<li><a href="prelim-git.html#motivation"><span class="toc-section-number">3.5.1</span> Motivation</a></li>
<li><a href="prelim-git.html#git"><span class="toc-section-number">3.5.2</span> git</a></li>
<li><a href="prelim-git.html#git-hosting-platforms-github"><span class="toc-section-number">3.5.3</span> Git hosting platforms (GitHub)</a></li>
</ul></li>
</ul></li>
<li><a href="prog-basics.html#prog-basics"><span class="toc-section-number">4</span> R Programming</a>
<ul>
<li><a href="before-you-begin.html#before-you-begin"><span class="toc-section-number">4.1</span> Before you begin</a></li>
<li><a href="introduction-1.html#introduction-1"><span class="toc-section-number">4.2</span> Introduction</a></li>
<li><a href="prog-r-syntax.html#prog-r-syntax"><span class="toc-section-number">4.3</span> R Syntax Basics</a></li>
<li><a href="prog-types.html#prog-types"><span class="toc-section-number">4.4</span> Basic Types of Values</a>
<ul>
<li><a href="prog-types.html#factors"><span class="toc-section-number">4.4.1</span> Factors</a></li>
</ul></li>
<li><a href="prog-struct.html#prog-struct"><span class="toc-section-number">4.5</span> Data Structures</a>
<ul>
<li><a href="prog-struct.html#vectors"><span class="toc-section-number">4.5.1</span> Vectors</a></li>
<li><a href="prog-struct.html#matrices"><span class="toc-section-number">4.5.2</span> Matrices</a></li>
<li><a href="prog-struct.html#lists-and-data-frames"><span class="toc-section-number">4.5.3</span> Lists and data frames</a></li>
</ul></li>
<li><a href="logical-tests-and-comparators.html#logical-tests-and-comparators"><span class="toc-section-number">4.6</span> Logical Tests and Comparators</a></li>
<li><a href="functions.html#functions"><span class="toc-section-number">4.7</span> Functions</a>
<ul>
<li><a href="functions.html#prog-dry"><span class="toc-section-number">4.7.1</span> DRY: Don’t Repeat Yourself</a></li>
<li><a href="functions.html#writing-your-own-functions"><span class="toc-section-number">4.7.2</span> Writing your own functions</a></li>
<li><a href="functions.html#scope"><span class="toc-section-number">4.7.3</span> Scope</a></li>
</ul></li>
<li><a href="iteration.html#iteration"><span class="toc-section-number">4.8</span> Iteration</a>
<ul>
<li><a href="iteration.html#vectorized-operations"><span class="toc-section-number">4.8.1</span> Vectorized operations</a></li>
<li><a href="iteration.html#functional-programming"><span class="toc-section-number">4.8.2</span> Functional programming</a></li>
<li><a href="iteration.html#apply-and-friends"><span class="toc-section-number">4.8.3</span> <code>apply()</code> and friends</a></li>
</ul></li>
<li><a href="installing-packages.html#installing-packages"><span class="toc-section-number">4.9</span> Installing Packages</a></li>
<li><a href="saving-and-loading-r-data.html#saving-and-loading-r-data"><span class="toc-section-number">4.10</span> Saving and Loading R Data</a></li>
<li><a href="prog-debugging.html#prog-debugging"><span class="toc-section-number">4.11</span> Troubleshooting and Debugging</a></li>
<li><a href="prog-style.html#prog-style"><span class="toc-section-number">4.12</span> Coding Style and Conventions</a>
<ul>
<li><a href="prog-style.html#is-my-code-correct"><span class="toc-section-number">4.12.1</span> Is my code correct?</a></li>
<li><a href="prog-style.html#does-my-code-follow-the-dry-principle"><span class="toc-section-number">4.12.2</span> Does my code follow the <span>DRY principle</span>?</a></li>
<li><a href="prog-style.html#did-i-choose-concise-but-descriptive-variable-and-function-names"><span class="toc-section-number">4.12.3</span> Did I choose concise but descriptive variable and function names?</a></li>
<li><a href="prog-style.html#did-i-use-indentation-and-naming-conventions-consistently-throughout-my-code"><span class="toc-section-number">4.12.4</span> Did I use indentation and naming conventions consistently throughout my code?</a></li>
<li><a href="prog-style.html#did-i-write-comments-especially-when-what-the-code-does-is-not-obvious"><span class="toc-section-number">4.12.5</span> Did I write comments, especially when what the code does is not obvious?</a></li>
<li><a href="prog-style.html#how-easy-would-it-be-for-someone-else-to-understand-my-code"><span class="toc-section-number">4.12.6</span> How easy would it be for someone else to understand my code?</a></li>
<li><a href="prog-style.html#is-my-code-easy-to-maintainchange"><span class="toc-section-number">4.12.7</span> Is my code easy to maintain/change?</a></li>
<li><a href="prog-style.html#the-styler-package"><span class="toc-section-number">4.12.8</span> The <code>styler</code> package</a></li>
</ul></li>
</ul></li>
<li><a href="data-wrangling.html#data-wrangling"><span class="toc-section-number">5</span> Data Wrangling</a>
<ul>
<li><a href="the-tidyverse.html#the-tidyverse"><span class="toc-section-number">5.1</span> The Tidyverse</a></li>
<li><a href="dw-basics.html#dw-basics"><span class="toc-section-number">5.2</span> Tidyverse Basics</a></li>
<li><a href="importing-data.html#importing-data"><span class="toc-section-number">5.3</span> Importing Data</a></li>
<li><a href="data-tibble.html#data-tibble"><span class="toc-section-number">5.4</span> The tibble</a></li>
<li><a href="tidy-data.html#tidy-data"><span class="toc-section-number">5.5</span> Tidy Data</a></li>
<li><a href="pipes.html#pipes"><span class="toc-section-number">5.6</span> pipes</a></li>
<li><a href="arranging-data.html#arranging-data"><span class="toc-section-number">5.7</span> Arranging Data</a>
<ul>
<li><a href="arranging-data.html#dplyrmutate---create-new-columns-using-other-columns"><span class="toc-section-number">5.7.1</span> <code>dplyr::mutate()</code> - Create new columns using other columns</a></li>
<li><a href="arranging-data.html#stringr---working-with-character-values"><span class="toc-section-number">5.7.2</span> <code>stringr</code> - Working with character values</a></li>
<li><a href="arranging-data.html#dplyrselect---subset-columns-by-name"><span class="toc-section-number">5.7.3</span> <code>dplyr::select()</code> - Subset Columns by Name</a></li>
<li><a href="arranging-data.html#dplyrfilter---pick-rows-out-of-a-data-set"><span class="toc-section-number">5.7.4</span> <code>dplyr::filter()</code> - Pick rows out of a data set</a></li>
<li><a href="arranging-data.html#dplyrarrange---order-rows-based-on-their-values"><span class="toc-section-number">5.7.5</span> <code>dplyr::arrange()</code> - Order rows based on their values</a></li>
<li><a href="arranging-data.html#putting-it-all-together"><span class="toc-section-number">5.7.6</span> Putting it all together</a></li>
</ul></li>
<li><a href="grouping-data.html#grouping-data"><span class="toc-section-number">5.8</span> Grouping Data</a></li>
<li><a href="rearranging-data.html#rearranging-data"><span class="toc-section-number">5.9</span> Rearranging Data</a></li>
<li><a href="relational-data.html#relational-data"><span class="toc-section-number">5.10</span> Relational Data</a>
<ul>
<li><a href="relational-data.html#dealing-with-multiple-matches"><span class="toc-section-number">5.10.1</span> Dealing with multiple matches</a></li>
</ul></li>
</ul></li>
<li><a href="data-science.html#data-science"><span class="toc-section-number">6</span> Data Science</a>
<ul>
<li><a href="data-modeling.html#data-modeling"><span class="toc-section-number">6.1</span> Data Modeling</a>
<ul>
<li><a href="data-modeling.html#a-worked-modeling-example"><span class="toc-section-number">6.1.1</span> A Worked Modeling Example</a></li>
<li><a href="data-modeling.html#data-summarization"><span class="toc-section-number">6.1.2</span> Data Summarization</a></li>
<li><a href="data-modeling.html#linear-models"><span class="toc-section-number">6.1.3</span> Linear Models</a></li>
<li><a href="data-modeling.html#flavors-of-linear-models"><span class="toc-section-number">6.1.4</span> Flavors of Linear Models</a></li>
<li><a href="data-modeling.html#assessing-model-accuracy-."><span class="toc-section-number">6.1.5</span> Assessing Model Accuracy .</a></li>
</ul></li>
<li><a href="statistical-distributions.html#statistical-distributions"><span class="toc-section-number">6.2</span> Statistical Distributions</a>
<ul>
<li><a href="statistical-distributions.html#random-variables"><span class="toc-section-number">6.2.1</span> Random Variables</a></li>
<li><a href="statistical-distributions.html#statistical-distribution-basics"><span class="toc-section-number">6.2.2</span> Statistical Distribution Basics</a></li>
<li><a href="statistical-distributions.html#distributions-in-r"><span class="toc-section-number">6.2.3</span> Distributions in R</a></li>
<li><a href="statistical-distributions.html#discrete-distributions"><span class="toc-section-number">6.2.4</span> Discrete Distributions</a></li>
<li><a href="statistical-distributions.html#continuous-distributions"><span class="toc-section-number">6.2.5</span> Continuous Distributions</a></li>
<li><a href="statistical-distributions.html#empirical-distributions"><span class="toc-section-number">6.2.6</span> Empirical Distributions</a></li>
</ul></li>
<li><a href="statistical-tests.html#statistical-tests"><span class="toc-section-number">6.3</span> Statistical Tests</a>
<ul>
<li><a href="statistical-tests.html#what-is-a-statistical-test"><span class="toc-section-number">6.3.1</span> What is a statistical test</a></li>
<li><a href="statistical-tests.html#common-statistical-tests"><span class="toc-section-number">6.3.2</span> Common Statistical Tests</a></li>
<li><a href="statistical-tests.html#choosing-a-test"><span class="toc-section-number">6.3.3</span> Choosing a Test</a></li>
<li><a href="statistical-tests.html#p-values"><span class="toc-section-number">6.3.4</span> P-values</a></li>
<li><a href="statistical-tests.html#multiple-hypothesis-testing-."><span class="toc-section-number">6.3.5</span> Multiple Hypothesis Testing .</a></li>
<li><a href="statistical-tests.html#statistical-power"><span class="toc-section-number">6.3.6</span> Statistical power</a></li>
</ul></li>
<li><a href="exploratory-data-analysis.html#exploratory-data-analysis"><span class="toc-section-number">6.4</span> Exploratory Data Analysis</a>
<ul>
<li><a href="exploratory-data-analysis.html#principal-component-analysis"><span class="toc-section-number">6.4.1</span> Principal Component Analysis</a></li>
<li><a href="exploratory-data-analysis.html#cluster-analysis"><span class="toc-section-number">6.4.2</span> Cluster Analysis</a></li>
<li><a href="exploratory-data-analysis.html#k-means-."><span class="toc-section-number">6.4.3</span> k-means .</a></li>
<li><a href="exploratory-data-analysis.html#others"><span class="toc-section-number">6.4.4</span> Others</a></li>
</ul></li>
<li><a href="network-analysis-..html#network-analysis-."><span class="toc-section-number">6.5</span> Network Analysis .</a>
<ul>
<li><a href="network-analysis-..html#basic-network-analysis"><span class="toc-section-number">6.5.1</span> Basic network analysis</a></li>
<li><a href="network-analysis-..html#create-your-own"><span class="toc-section-number">6.5.2</span> Create your own</a></li>
</ul></li>
</ul></li>
<li><a href="data-visualization.html#data-visualization"><span class="toc-section-number">7</span> Data Visualization</a>
<ul>
<li><a href="responsible-plotting.html#responsible-plotting"><span class="toc-section-number">7.1</span> Responsible Plotting</a>
<ul>
<li><a href="responsible-plotting.html#visualization-principles"><span class="toc-section-number">7.1.1</span> Visualization Principles</a></li>
<li><a href="responsible-plotting.html#human-visual-perception"><span class="toc-section-number">7.1.2</span> Human Visual Perception</a></li>
<li><a href="responsible-plotting.html#visual-encodings"><span class="toc-section-number">7.1.3</span> Visual Encodings</a></li>
<li><a href="responsible-plotting.html#some-opinionated-rules-of-thumb"><span class="toc-section-number">7.1.4</span> Some Opinionated Rules of Thumb</a></li>
</ul></li>
<li><a href="dv-gg.html#dv-gg"><span class="toc-section-number">7.2</span> Grammar of Graphics</a>
<ul>
<li><a href="dv-gg.html#ggplot-mechanics"><span class="toc-section-number">7.2.1</span> <code>ggplot</code> mechanics</a></li>
</ul></li>
<li><a href="plotting-one-dimension.html#plotting-one-dimension"><span class="toc-section-number">7.3</span> Plotting One Dimension</a>
<ul>
<li><a href="plotting-one-dimension.html#dv-bar"><span class="toc-section-number">7.3.1</span> Bar chart</a></li>
<li><a href="plotting-one-dimension.html#lollipop-plots"><span class="toc-section-number">7.3.2</span> Lollipop plots</a></li>
<li><a href="plotting-one-dimension.html#stacked-area-charts"><span class="toc-section-number">7.3.3</span> Stacked Area charts</a></li>
<li><a href="plotting-one-dimension.html#parallel-coordinate-plots"><span class="toc-section-number">7.3.4</span> Parallel Coordinate plots</a></li>
</ul></li>
<li><a href="visualizing-distributions.html#visualizing-distributions"><span class="toc-section-number">7.4</span> Visualizing Distributions</a>
<ul>
<li><a href="visualizing-distributions.html#histogram"><span class="toc-section-number">7.4.1</span> Histogram</a></li>
<li><a href="visualizing-distributions.html#density"><span class="toc-section-number">7.4.2</span> Density</a></li>
<li><a href="visualizing-distributions.html#boxplot"><span class="toc-section-number">7.4.3</span> Boxplot</a></li>
<li><a href="visualizing-distributions.html#violin-plot"><span class="toc-section-number">7.4.4</span> Violin plot</a></li>
<li><a href="visualizing-distributions.html#beeswarm-plot"><span class="toc-section-number">7.4.5</span> Beeswarm plot</a></li>
<li><a href="visualizing-distributions.html#ridgeline"><span class="toc-section-number">7.4.6</span> Ridgeline</a></li>
</ul></li>
<li><a href="plotting-two-or-more-dimensions.html#plotting-two-or-more-dimensions"><span class="toc-section-number">7.5</span> Plotting Two or More Dimensions</a>
<ul>
<li><a href="plotting-two-or-more-dimensions.html#scatter-plots"><span class="toc-section-number">7.5.1</span> Scatter Plots</a></li>
<li><a href="plotting-two-or-more-dimensions.html#bubble-plots"><span class="toc-section-number">7.5.2</span> Bubble Plots</a></li>
<li><a href="plotting-two-or-more-dimensions.html#connected-scatter-plots"><span class="toc-section-number">7.5.3</span> Connected Scatter Plots</a></li>
<li><a href="plotting-two-or-more-dimensions.html#line-plots"><span class="toc-section-number">7.5.4</span> Line Plots</a></li>
<li><a href="plotting-two-or-more-dimensions.html#parallel-coordinate-plots-1"><span class="toc-section-number">7.5.5</span> Parallel Coordinate Plots</a></li>
<li><a href="plotting-two-or-more-dimensions.html#heatmaps"><span class="toc-section-number">7.5.6</span> Heatmaps</a></li>
<li><a href="plotting-two-or-more-dimensions.html#how-to-use-heatmaps-responsibly"><span class="toc-section-number">7.5.7</span> How To Use Heatmaps Responsibly</a></li>
</ul></li>
<li><a href="other-kind-of-plots.html#other-kind-of-plots"><span class="toc-section-number">7.6</span> Other Kind of Plots</a>
<ul>
<li><a href="other-kind-of-plots.html#dendrograms"><span class="toc-section-number">7.6.1</span> Dendrograms</a></li>
<li><a href="other-kind-of-plots.html#chord-diagrams-and-circos-plots"><span class="toc-section-number">7.6.2</span> Chord Diagrams and Circos Plots</a></li>
</ul></li>
<li><a href="multiple-plots.html#multiple-plots"><span class="toc-section-number">7.7</span> Multiple Plots</a>
<ul>
<li><a href="multiple-plots.html#facet-wrapping"><span class="toc-section-number">7.7.1</span> Facet wrapping</a></li>
<li><a href="multiple-plots.html#multipanel-figures"><span class="toc-section-number">7.7.2</span> Multipanel Figures</a></li>
</ul></li>
<li><a href="publication-ready-plots.html#publication-ready-plots"><span class="toc-section-number">7.8</span> Publication Ready Plots</a>
<ul>
<li><a href="publication-ready-plots.html#ggplot-themes"><span class="toc-section-number">7.8.1</span> <code>ggplot</code> Themes</a></li>
<li><a href="publication-ready-plots.html#exporting-to-svg"><span class="toc-section-number">7.8.2</span> Exporting to SVG</a></li>
</ul></li>
<li><a href="network-visualization.html#network-visualization"><span class="toc-section-number">7.9</span> Network visualization</a>
<ul>
<li><a href="network-visualization.html#interactive-network-plots"><span class="toc-section-number">7.9.1</span> Interactive network plots</a></li>
</ul></li>
</ul></li>
<li><a href="biology-bioinformatics.html#biology-bioinformatics"><span class="toc-section-number">8</span> Biology &amp; Bioinformatics</a>
<ul>
<li><a href="bio-r.html#bio-r"><span class="toc-section-number">8.1</span> R in Biology</a></li>
<li><a href="biological-data-overview.html#biological-data-overview"><span class="toc-section-number">8.2</span> Biological Data Overview</a>
<ul>
<li><a href="biological-data-overview.html#bio-data-types"><span class="toc-section-number">8.2.1</span> Types of Biological Data</a></li>
<li><a href="biological-data-overview.html#csv-files"><span class="toc-section-number">8.2.2</span> CSV Files</a></li>
<li><a href="biological-data-overview.html#biological-data-is-not-tidy"><span class="toc-section-number">8.2.3</span> Biological data is NOT Tidy!</a></li>
</ul></li>
<li><a href="bio-bioconductor.html#bio-bioconductor"><span class="toc-section-number">8.3</span> Bioconductor</a></li>
<li><a href="microarrays.html#microarrays"><span class="toc-section-number">8.4</span> Microarrays</a></li>
<li><a href="high-throughput-sequencing.html#high-throughput-sequencing"><span class="toc-section-number">8.5</span> High Throughput Sequencing</a>
<ul>
<li><a href="high-throughput-sequencing.html#raw-hts-data"><span class="toc-section-number">8.5.1</span> Raw HTS Data</a></li>
<li><a href="high-throughput-sequencing.html#preliminary-hts-data-analysis"><span class="toc-section-number">8.5.2</span> Preliminary HTS Data Analysis</a></li>
<li><a href="high-throughput-sequencing.html#count-data"><span class="toc-section-number">8.5.3</span> Count Data</a></li>
</ul></li>
<li><a href="gene-identifiers.html#gene-identifiers"><span class="toc-section-number">8.6</span> Gene Identifiers</a>
<ul>
<li><a href="gene-identifiers.html#gene-identifier-systems"><span class="toc-section-number">8.6.1</span> Gene Identifier Systems</a></li>
<li><a href="gene-identifiers.html#mapping-between-identifier-systems"><span class="toc-section-number">8.6.2</span> Mapping Between Identifier Systems</a></li>
<li><a href="gene-identifiers.html#mapping-homologs"><span class="toc-section-number">8.6.3</span> Mapping Homologs</a></li>
</ul></li>
<li><a href="gene-expression.html#gene-expression"><span class="toc-section-number">8.7</span> Gene Expression</a>
<ul>
<li><a href="gene-expression.html#gene-expression-data-in-bioconductor"><span class="toc-section-number">8.7.1</span> Gene Expression Data in Bioconductor</a></li>
<li><a href="gene-expression.html#differential-expression-analysis"><span class="toc-section-number">8.7.2</span> Differential Expression Analysis</a></li>
<li><a href="gene-expression.html#microarray-gene-expression-data"><span class="toc-section-number">8.7.3</span> Microarray Gene Expression Data</a></li>
<li><a href="gene-expression.html#differential-expression-microarrays-limma"><span class="toc-section-number">8.7.4</span> Differential Expression: Microarrays (limma)</a></li>
<li><a href="gene-expression.html#rnaseq"><span class="toc-section-number">8.7.5</span> RNASeq</a></li>
<li><a href="gene-expression.html#rnaseq-gene-expression-data"><span class="toc-section-number">8.7.6</span> RNASeq Gene Expression Data</a></li>
<li><a href="gene-expression.html#filtering-counts"><span class="toc-section-number">8.7.7</span> Filtering Counts</a></li>
<li><a href="gene-expression.html#count-distributions"><span class="toc-section-number">8.7.8</span> Count Distributions</a></li>
<li><a href="gene-expression.html#differential-expression-rnaseq"><span class="toc-section-number">8.7.9</span> Differential Expression: RNASeq</a></li>
</ul></li>
<li><a href="gene-set-enrichment-analysis.html#gene-set-enrichment-analysis"><span class="toc-section-number">8.8</span> Gene Set Enrichment Analysis</a>
<ul>
<li><a href="gene-set-enrichment-analysis.html#gene-sets"><span class="toc-section-number">8.8.1</span> Gene Sets</a></li>
<li><a href="gene-set-enrichment-analysis.html#working-with-gene-sets-in-r"><span class="toc-section-number">8.8.2</span> Working with gene sets in R</a></li>
<li><a href="gene-set-enrichment-analysis.html#over-representation-analysis"><span class="toc-section-number">8.8.3</span> Over-representation Analysis</a></li>
<li><a href="gene-set-enrichment-analysis.html#rank-based-analysis"><span class="toc-section-number">8.8.4</span> Rank-based Analysis</a></li>
<li><a href="gene-set-enrichment-analysis.html#fgsea"><span class="toc-section-number">8.8.5</span> fgsea</a></li>
</ul></li>
<li><a href="biological-networks-..html#biological-networks-."><span class="toc-section-number">8.9</span> Biological Networks .</a>
<ul>
<li><a href="biological-networks-..html#biological-pathways-."><span class="toc-section-number">8.9.1</span> Biological Pathways .</a></li>
<li><a href="biological-networks-..html#gene-regulatory-networks-."><span class="toc-section-number">8.9.2</span> Gene Regulatory Networks .</a></li>
<li><a href="biological-networks-..html#protein-protein-interaction-network-."><span class="toc-section-number">8.9.3</span> Protein-Protein Interaction Network .</a></li>
<li><a href="biological-networks-..html#wgcna-."><span class="toc-section-number">8.9.4</span> WGCNA .</a></li>
</ul></li>
</ul></li>
<li><a href="engineering.html#engineering"><span class="toc-section-number">9</span> EngineeRing</a>
<ul>
<li><a href="unit-testing.html#unit-testing"><span class="toc-section-number">9.1</span> Unit Testing</a></li>
<li><a href="toolification.html#toolification"><span class="toc-section-number">9.2</span> Toolification</a>
<ul>
<li><a href="toolification.html#the-r-interpreter"><span class="toc-section-number">9.2.1</span> The R Interpreter</a></li>
<li><a href="toolification.html#rscript"><span class="toc-section-number">9.2.2</span> <code>Rscript</code></a></li>
<li><a href="toolification.html#commandargs"><span class="toc-section-number">9.2.3</span> <code>commandArgs()</code></a></li>
</ul></li>
<li><a href="parallel-processing.html#parallel-processing"><span class="toc-section-number">9.3</span> Parallel Processing</a>
<ul>
<li><a href="parallel-processing.html#brief-introduction-to-parallelization"><span class="toc-section-number">9.3.1</span> Brief Introduction to Parallelization</a></li>
<li><a href="parallel-processing.html#apply-and-friends-are-pleasingly-parallel"><span class="toc-section-number">9.3.2</span> <code>apply</code> and Friends Are Pleasingly Parallel</a></li>
<li><a href="parallel-processing.html#the-parallel-package"><span class="toc-section-number">9.3.3</span> The <code>parallel</code> package</a></li>
</ul></li>
<li><a href="object-orientation-in-r.html#object-orientation-in-r"><span class="toc-section-number">9.4</span> Object Orientation in R</a></li>
<li><a href="r-packages.html#r-packages"><span class="toc-section-number">9.5</span> R Packages</a></li>
</ul></li>
<li><a href="rshiny.html#rshiny"><span class="toc-section-number">10</span> RShiny</a>
<ul>
<li><a href="rshiny-introduction.html#rshiny-introduction"><span class="toc-section-number">10.1</span> RShiny Introduction</a>
<ul>
<li><a href="rshiny-introduction.html#how-does-a-web-page-work"><span class="toc-section-number">10.1.1</span> How does a web page work?</a></li>
</ul></li>
<li><a href="application-structure.html#application-structure"><span class="toc-section-number">10.2</span> Application Structure</a>
<ul>
<li><a href="application-structure.html#ui-design"><span class="toc-section-number">10.2.1</span> UI Design</a></li>
<li><a href="application-structure.html#server-functionality"><span class="toc-section-number">10.2.2</span> Server Functionality</a></li>
</ul></li>
<li><a href="reactivity.html#reactivity"><span class="toc-section-number">10.3</span> Reactivity</a></li>
<li><a href="publishing.html#publishing"><span class="toc-section-number">10.4</span> Publishing</a></li>
</ul></li>
<li><a href="communicating-with-r.html#communicating-with-r"><span class="toc-section-number">11</span> Communicating with R</a>
<ul>
<li><a href="rmarkdown-knitr.html#rmarkdown-knitr"><span class="toc-section-number">11.1</span> RMarkdown &amp; knitr</a></li>
<li><a href="bookdown.html#bookdown"><span class="toc-section-number">11.2</span> bookdown</a></li>
</ul></li>
<li><a href="contribution-guide.html#contribution-guide"><span class="toc-section-number">12</span> Contribution Guide</a>
<ul>
<li><a href="custom-blocks.html#custom-blocks"><span class="toc-section-number">12.1</span> Custom blocks</a></li>
</ul></li>
<li><a href="assignments.html#assignments">Assignments</a>
<ul>
<li><a href="assignment-format.html#assignment-format">Assignment Format</a></li>
<li><a href="starting-an-assignment.html#starting-an-assignment">Starting an Assignment</a>
<ul>
<li><a href="starting-an-assignment.html#starting-your-own-git-repository-and-cloning-it">Starting your own <code>git</code> repository and cloning it</a></li>
<li><a href="starting-an-assignment.html#contents">Contents</a></li>
<li><a href="starting-an-assignment.html#github-tutorial">GitHub tutorial</a></li>
<li><a href="starting-an-assignment.html#committing-and-pushing-with-r-and-without">Committing and Pushing with R (and without)</a></li>
<li><a href="starting-an-assignment.html#using-rstudio">Using RStudio</a></li>
<li><a href="starting-an-assignment.html#using-the-command-line">Using the command line</a></li>
</ul></li>
<li><a href="assignment-1.html#assignment-1">Assignment 1</a>
<ul>
<li><a href="assignment-1.html#problem-statement">Problem Statement</a></li>
<li><a href="assignment-1.html#learning-objectives-and-skill-list">Learning Objectives and Skill List</a></li>
<li><a href="assignment-1.html#instructions">Instructions</a></li>
<li><a href="assignment-1.html#hints">Hints</a></li>
</ul></li>
<li><a href="assignment-2.html#assignment-2">Assignment 2</a>
<ul>
<li><a href="assignment-2.html#problem-statement-1">Problem Statement</a></li>
<li><a href="assignment-2.html#learning-objectives">Learning Objectives</a></li>
<li><a href="assignment-2.html#skill-list">Skill List</a></li>
<li><a href="assignment-2.html#instructions-1">Instructions</a></li>
<li><a href="assignment-2.html#function-details">Function Details</a></li>
</ul></li>
<li><a href="assignment-3.html#assignment-3">Assignment 3</a>
<ul>
<li><a href="assignment-3.html#problem-statement-2">Problem Statement</a></li>
<li><a href="assignment-3.html#learning-objectives-1">Learning Objectives</a></li>
<li><a href="assignment-3.html#skill-list-1">Skill List</a></li>
<li><a href="assignment-3.html#background-on-microarrays">Background on Microarrays</a></li>
<li><a href="assignment-3.html#background-on-principal-component-analysis">Background on Principal Component Analysis</a></li>
<li><a href="assignment-3.html#marisa-et-al.-gene-expression-classification-of-colon-cancer-into-molecular-subtypes-characterization-validation-and-prognostic-value.-plos-medicine-may-2013.-pmid-23700391">Marisa et al. Gene Expression Classification of Colon Cancer into Molecular Subtypes: Characterization, Validation, and Prognostic Value. PLoS Medicine, May 2013. PMID: 23700391</a></li>
<li><a href="assignment-3.html#scaling-data-using-r-scale">Scaling data using R <code>scale()</code></a></li>
<li><a href="assignment-3.html#proportion-of-variance-explained">Proportion of variance explained</a></li>
<li><a href="assignment-3.html#plotting-and-visualization-of-pca">Plotting and visualization of PCA</a></li>
<li><a href="assignment-3.html#hierarchical-clustering-and-heatmaps">Hierarchical Clustering and Heatmaps</a></li>
<li><a href="assignment-3.html#references">References</a></li>
</ul></li>
<li><a href="assignment-4.html#assignment-4">Assignment 4</a>
<ul>
<li><a href="assignment-4.html#problem-statement-3">Problem Statement</a></li>
<li><a href="assignment-4.html#learning-objectives-2">Learning Objectives</a></li>
<li><a href="assignment-4.html#skill-list-2">Skill List</a></li>
<li><a href="assignment-4.html#instructions-2">Instructions</a></li>
<li><a href="assignment-4.html#deliverables">Deliverables</a></li>
<li><a href="assignment-4.html#function-details-1">Function Details</a></li>
<li><a href="assignment-4.html#hints-1">Hints</a></li>
</ul></li>
<li><a href="assignment-5.html#assignment-5">Assignment 5</a>
<ul>
<li><a href="assignment-5.html#problem-statement-4">Problem Statement</a></li>
<li><a href="assignment-5.html#learning-objectives-3">Learning Objectives</a></li>
<li><a href="assignment-5.html#skill-list-3">Skill List</a></li>
<li><a href="assignment-5.html#deseq2-background">DESeq2 Background</a></li>
<li><a href="assignment-5.html#generating-a-counts-matrix">Generating a counts matrix</a></li>
<li><a href="assignment-5.html#prefiltering-counts-matrix">Prefiltering Counts matrix</a></li>
<li><a href="assignment-5.html#median-of-ratios-normalization">Median-of-ratios normalization</a></li>
<li><a href="assignment-5.html#deseq2-preparation">DESeq2 preparation</a></li>
<li><a href="assignment-5.html#omeara-et-al.-transcriptional-reversion-of-cardiac-myocyte-fate-during-mammalian-cardiac-regeneration.-circ-res.-feb-2015.-pmid-25477501l">O’Meara et al. Transcriptional Reversion of Cardiac Myocyte Fate During Mammalian Cardiac Regeneration. Circ Res. Feb 2015. PMID: 25477501l</a></li>
<li><a href="assignment-5.html#reading-and-subsetting-the-data-from-verse_counts.tsv-and-sample_metadata.csv">1. Reading and subsetting the data from verse_counts.tsv and sample_metadata.csv</a></li>
<li><a href="assignment-5.html#running-deseq2">2. Running DESeq2</a></li>
<li><a href="assignment-5.html#annotating-results-to-construct-a-labeled-volcano-plot">3. Annotating results to construct a labeled volcano plot</a></li>
<li><a href="assignment-5.html#diagnostic-plot-of-the-raw-p-values-for-all-genes">4. Diagnostic plot of the raw p-values for all genes</a></li>
<li><a href="assignment-5.html#plotting-the-logfoldchanges-for-differentially-expressed-genes">5. Plotting the LogFoldChanges for differentially expressed genes</a></li>
<li><a href="assignment-5.html#the-choice-of-fdr-cutoff-depends-on-cost">The choice of FDR cutoff depends on cost</a></li>
<li><a href="assignment-5.html#plotting-the-normalized-counts-of-differentially-expressed-genes">6. Plotting the normalized counts of differentially expressed genes</a></li>
<li><a href="assignment-5.html#volcano-plot-to-visualize-differential-expression-results">7. Volcano Plot to visualize differential expression results</a></li>
<li><a href="assignment-5.html#running-fgsea-vignette">8. Running fgsea <span>vignette</span></a></li>
<li><a href="assignment-5.html#plotting-the-top-ten-positive-nes-and-top-ten-negative-nes-pathways">9. Plotting the top ten positive NES and top ten negative NES pathways</a></li>
<li><a href="assignment-5.html#references-1">References</a></li>
</ul></li>
<li><a href="assignment-6.html#assignment-6">Assignment 6</a>
<ul>
<li><a href="assignment-6.html#problem-statement-5">Problem Statement</a></li>
<li><a href="assignment-6.html#learning-objectives-4">Learning Objectives</a></li>
<li><a href="assignment-6.html#skill-list-4">Skill List</a></li>
<li><a href="assignment-6.html#instructions-3">Instructions</a></li>
<li><a href="assignment-6.html#function-details-2">Function Details</a></li>
</ul></li>
<li><a href="assignment-7.html#assignment-7">Assignment 7</a>
<ul>
<li><a href="assignment-7.html#problem-statement-6">Problem Statement</a></li>
<li><a href="assignment-7.html#learning-objectives-5">Learning Objectives</a></li>
<li><a href="assignment-7.html#skill-list-5">Skill List</a></li>
<li><a href="assignment-7.html#instructions-4">Instructions</a></li>
<li><a href="assignment-7.html#function-details-3">“Function” Details</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li><a href="class-outlines.html#class-outlines"><span class="toc-section-number">A</span> Class Outlines</a>
<ul>
<li><a href="week-1.html#week-1"><span class="toc-section-number">A.1</span> Week 1</a></li>
<li><a href="week-2.html#week-2"><span class="toc-section-number">A.2</span> Week 2</a></li>
<li><a href="week-3.html#week-3"><span class="toc-section-number">A.3</span> Week 3</a></li>
<li><a href="week-4.html#week-4"><span class="toc-section-number">A.4</span> Week 4</a></li>
<li><a href="week-5.html#week-5"><span class="toc-section-number">A.5</span> Week 5</a></li>
<li><a href="week-6.html#week-6"><span class="toc-section-number">A.6</span> Week 6</a></li>
<li><a href="week-7.html#week-7"><span class="toc-section-number">A.7</span> Week 7</a></li>
<li><a href="week-8.html#week-8"><span class="toc-section-number">A.8</span> Week 8</a></li>
<li><a href="week-9.html#week-9"><span class="toc-section-number">A.9</span> Week 9</a></li>
<li><a href="week-10.html#week-10"><span class="toc-section-number">A.10</span> Week 10</a></li>
<li><a href="week-11.html#week-11"><span class="toc-section-number">A.11</span> Week 11</a></li>
<li><a href="week-12.html#week-12"><span class="toc-section-number">A.12</span> Week 12</a></li>
<li><a href="week-13.html#week-13"><span class="toc-section-number">A.13</span> Week 13</a></li>
<li><a href="week-14.html#week-14"><span class="toc-section-number">A.14</span> Week 14</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="application-structure" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Application Structure</h2>
<p>R Shiny applications are split into two sections: the UI and the server. In web development, these are usually known as the <strong>front end</strong> and the <strong>back end</strong>. The front end is the portion of the application that deal with the users. This is the web page, the design, the login screen, the code that controls what the user can see and do. The back end is everything the user doesn’t see, the structure behind the web page that supports functionality: the database, processing data. One Shiny application controls both aspects of this paradigm. The UI creates a simple web page and allows for customizable inputs and control of displays, the server manages those inputs and transforms them into outputs the user can see.</p>
<p>In many cases the front end runs on the user’s machine (web browser) and the back end lives on another computer, usually a server. In development of a Shiny app these will be on the same machine, but if you wish to actually publish your web page for others to use then the application will run on a server and communicate with a user elsewhere.</p>
<div id="a-simple-example" class="section level4 unnumbered">
<h4>A simple example</h4>
<div class="sourceCode" id="cb491"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb491-1"><a href="application-structure.html#cb491-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb491-2"><a href="application-structure.html#cb491-2"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(<span class="st">&quot;Hello, worm!&quot;</span>)</span>
<span id="cb491-3"><a href="application-structure.html#cb491-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) { }</span>
<span id="cb491-4"><a href="application-structure.html#cb491-4"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_04.png" alt="" />
<p class="caption">Example app</p>
</div>
<p>This is the simplest Shiny app structure, which displays the text we pass into UI (the front end) and then doing absolutely nothing else (relatable). The first line loads R Shiny as a package, the second creates our simple user interface and text output, line three controls the back end (which again, does nothing), and the final line launches our app using the objects created in lines two and three.</p>
<p>In order to build some actual content in our app, we’ll first look at the UI, what the user sees.</p>
</div>
<div id="ui-design" class="section level3" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> UI Design</h3>
<p>Much like the rest of the content in this course (and I’m sure you’re sick of hearing this), user interfaces and user design could be taught as its own course. There are innumerable ways for people to interact with software, and designing that software to make them the least angry possible is now your focus.</p>
<p>R Shiny makes designing what a user sees fairly easy for us. Gone are the days of opening up a text editor to tweak HTML tags, we can just use built in functions like <code>span()</code> and <code>div()</code> to organize our page.</p>
<p>For example, copying our above extra simple app, I could paste in a whole text block to get a new line of text:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="application-structure.html#cb492-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb492-2"><a href="application-structure.html#cb492-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">&quot;Nothing beside remains. Round the decay&quot;</span>,</span>
<span id="cb492-3"><a href="application-structure.html#cb492-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Of that colossal wreck, boundless and bare&quot;</span>,</span>
<span id="cb492-4"><a href="application-structure.html#cb492-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;The lone and level sands stretch far away.&quot;</span>)</span>
<span id="cb492-5"><a href="application-structure.html#cb492-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_05.png" alt="" />
<p class="caption">Not great appearance-wise</p>
</div>
<p>But that’s all rather clunky. And what if I want to include some other elements in between? Or an image, a link? We can do better than just a big block of text next to some plots. Instead we can use <code>p()</code> tags, short for paragraph, to split things up more reasonably and add more convenient customization:</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="application-structure.html#cb493-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb493-2"><a href="application-structure.html#cb493-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">p</span>(<span class="st">&quot;Nothing beside remains. Round the decay&quot;</span>),</span>
<span id="cb493-3"><a href="application-structure.html#cb493-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">p</span>(<span class="st">&quot;Of that colossal wreck, boundless and bare&quot;</span>),</span>
<span id="cb493-4"><a href="application-structure.html#cb493-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">img</span>(<span class="at">src=</span><span class="st">&quot;https://coloringhome.com/coloring/RiA/yEj/RiAyEjzKT.gif&quot;</span>,</span>
<span id="cb493-5"><a href="application-structure.html#cb493-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">style=</span><span class="st">&quot;width:300px;height:200px;&quot;</span>),</span>
<span id="cb493-6"><a href="application-structure.html#cb493-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">p</span>(<span class="st">&quot;The lone and level sands stretch far away.&quot;</span>),</span>
<span id="cb493-7"><a href="application-structure.html#cb493-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">markdown</span>(<span class="st">&quot;&gt;Percy Bysshe Shelley&quot;</span>)</span>
<span id="cb493-8"><a href="application-structure.html#cb493-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_06.png" alt="" />
<p class="caption">Finally, some good poetry</p>
</div>
<div class="box note">
<p>We still need to include commas at the end, since these tags are essentially <em>arguments</em> being passed to the <code>fluidPage()</code> function. This is <strong>not</strong> the case for the server side object, which is a normal function and will be split up by line breaks.</p>
</div>
<p>Much nicer! This Shelley tribute page is really coming together. Let’s talk about some specific interactive elements that we can use to actually work with the user!</p>
<div id="exercise-1---ui-functions" class="section level6 unnumbered box important">
<h6>Exercise 1 - UI Functions</h6>
<p>Let’s try out some HTML tags. Go to <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/builder.html">this link</a> to see all of the options! Play around with trying to display some in your app.</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="application-structure.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb494-2"><a href="application-structure.html#cb494-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb494-3"><a href="application-structure.html#cb494-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">p</span>(<span class="st">&quot;This is an easy paragraph&quot;</span>),</span>
<span id="cb494-4"><a href="application-structure.html#cb494-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">br</span>(), <span class="co"># this is a line break</span></span>
<span id="cb494-5"><a href="application-structure.html#cb494-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">h1</span>(<span class="st">&quot;A big heading&quot;</span>),</span>
<span id="cb494-6"><a href="application-structure.html#cb494-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">h6</span>(<span class="st">&quot;A small heading&quot;</span>)</span>
<span id="cb494-7"><a href="application-structure.html#cb494-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb494-8"><a href="application-structure.html#cb494-8" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) { }</span>
<span id="cb494-9"><a href="application-structure.html#cb494-9" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<div id="inputs" class="section level4" number="10.2.1.1">
<h4><span class="header-section-number">10.2.1.1</span> Inputs</h4>
<p>Built-in inputs are one of the major draws to Shiny. Instead of dealing with fickle JavaScript and the DOM (a.k.a. we get to skip half of BF768), we get to type one line of R code and it is all taken care of for us!</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="application-structure.html#cb495-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb495-2"><a href="application-structure.html#cb495-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">&quot;pyramids&quot;</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">10</span>,</span>
<span id="cb495-3"><a href="application-structure.html#cb495-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">label =</span> <span class="st">&quot;How many pyramids are there?&quot;</span>, <span class="at">value =</span> <span class="dv">0</span>, <span class="at">step =</span> <span class="dv">1</span>)</span>
<span id="cb495-4"><a href="application-structure.html#cb495-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Let’s break down this function very quickly:<br />
1. <strong>inputId = </strong> - The input ID is the string of text (unique, no numbers or special characters) that we can use inside the server function to identify this input. If I want to know how many pyramids the user selected, then I can call <code>input$pyramids</code>. More on this later.<br />
2. <strong>max =, min =</strong> - Controls the upper and lower bounds of the slider.<br />
3. <strong>label = </strong> - Text to display to the user about the slider.<br />
4. <strong>value = </strong> - What value should the slider start at?<br />
5. **step = * - The amount the slider can move by. Useful if more (or less) precise input is required.</p>
<div class="figure">
<img src="img/shiny_07.png" alt="" />
<p class="caption">The simplest of inputs</p>
</div>
<p>The most vital part, and something that all input functions share, is the inputId. This text is used to manage this bit of input data in the server function, and is there for the connection between what the user does and how our app manages it.</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="application-structure.html#cb496-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb496-2"><a href="application-structure.html#cb496-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dateInput</span>(<span class="st">&quot;birthday&quot;</span>, <span class="st">&quot;When is your birthday?&quot;</span>),</span>
<span id="cb496-3"><a href="application-structure.html#cb496-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fileInput</span>(<span class="st">&quot;photo&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;Please upload an embarassing photo of you at the &quot;</span>,</span>
<span id="cb496-4"><a href="application-structure.html#cb496-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;Christmas party&quot;</span>)),</span>
<span id="cb496-5"><a href="application-structure.html#cb496-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">radioButtons</span>(<span class="st">&quot;button&quot;</span>, <span class="st">&quot;Which is your favorite?&quot;</span>,</span>
<span id="cb496-6"><a href="application-structure.html#cb496-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">&quot;Fall&quot;</span>, <span class="st">&quot;Winter&quot;</span>, <span class="st">&quot;Spring&quot;</span>, <span class="st">&quot;Pyramids&quot;</span>))</span>
<span id="cb496-7"><a href="application-structure.html#cb496-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>This generates multiple inputs I can get the results from using <code>input$birthday</code>, <code>input$photo</code>, and <code>input$button</code>.</p>
<div class="figure">
<img src="img/shiny_08.png" alt="" />
<p class="caption">A couple more neat inputs</p>
</div>
<div class="box note">
<p>The results of the file upload are nested. If I were to ask for a CSV, and needed to load that with <code>read.csv()</code>, I would need to use <code>input$csv$datapath</code> to point R at the uploaded object.</p>
</div>
<p>For a better idea of the common and useful input options, see the Shiny docs or the cheat sheet. For additional, cooler, fancier input options try <code>shinyWidgets::shinyWidgetsGallery()</code>.</p>
</div>
<div id="outputs" class="section level4" number="10.2.1.2">
<h4><span class="header-section-number">10.2.1.2</span> Outputs</h4>
<p>Now that we have a beautiful UI page that takes user input we can figure out <em>where</em> on the page to put it. This part is also relatively easy, every kind of output has a corresponding output function. If I want to insert a base plot or ggplot, I use <code>plotOutput()</code>. A table or data frame or tibble would go through <code>tableOutput()</code>.</p>
<p>One advanced option is to use <code>uiOutput()</code> to place input options and HTML <strong>back into</strong> the front end. This can be used to create some very nice effects, such as inserting results only when one option is selected or spawning a follow up question to an option. Here’s a small example:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="application-structure.html#cb497-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb497-2"><a href="application-structure.html#cb497-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(<span class="fu">radioButtons</span>(<span class="st">&quot;button&quot;</span>, <span class="st">&quot;Peanut butter or jelly?&quot;</span>,</span>
<span id="cb497-3"><a href="application-structure.html#cb497-3" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">c</span>(<span class="st">&quot;Peanut butter&quot;</span>, <span class="st">&quot;Jelly&quot;</span>)),</span>
<span id="cb497-4"><a href="application-structure.html#cb497-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">uiOutput</span>(<span class="st">&quot;choice&quot;</span>))</span>
<span id="cb497-5"><a href="application-structure.html#cb497-5" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb497-6"><a href="application-structure.html#cb497-6" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>choice <span class="ot">&lt;-</span> <span class="fu">renderUI</span>({</span>
<span id="cb497-7"><a href="application-structure.html#cb497-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (input<span class="sc">$</span>button <span class="sc">==</span> <span class="st">&quot;Peanut butter&quot;</span>) {</span>
<span id="cb497-8"><a href="application-structure.html#cb497-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">radioButtons</span>(<span class="st">&quot;pbChoice&quot;</span>, <span class="st">&quot;PB is great. Bread or english muffin?&quot;</span>,</span>
<span id="cb497-9"><a href="application-structure.html#cb497-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">c</span>(<span class="st">&quot;Bread&quot;</span>, <span class="st">&quot;English Muffin&quot;</span>))</span>
<span id="cb497-10"><a href="application-structure.html#cb497-10" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb497-11"><a href="application-structure.html#cb497-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">radioButtons</span>(<span class="st">&quot;jellychoice&quot;</span>, <span class="st">&quot;What kind of jelly?&quot;</span>,</span>
<span id="cb497-12"><a href="application-structure.html#cb497-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;Strawberry&quot;</span>, <span class="st">&quot;Raspberry&quot;</span>, <span class="st">&quot;Toxic sludge&quot;</span>))</span>
<span id="cb497-13"><a href="application-structure.html#cb497-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb497-14"><a href="application-structure.html#cb497-14" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb497-15"><a href="application-structure.html#cb497-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb497-16"><a href="application-structure.html#cb497-16" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<p>This is our first example of the server function…doing anything…but we’re gonna ignore exactly what or why it’s doing anything so I can comment on <code>uiOutput()</code>. Based on the if-else statement on line 7, our follow up question changes. This can be used to show/hide responses for users. A user hits a check box indicating they’re a veteran, you can insert more questions about their veteran status or info.</p>
<div class="figure">
<img src="img/shiny_09.png" alt="" />
<p class="caption">This works way better in RStudio</p>
</div>
<p>We will figure out this whole server thing in more detail once we have made our page look as pretty as possible.</p>
</div>
<div id="sidebar-main" class="section level4" number="10.2.1.3">
<h4><span class="header-section-number">10.2.1.3</span> Sidebar-Main</h4>
<p>Now that we have all these functions to populate our page with the most inane content possible, we’re gonna start running into issues with organization. Even with our mastery of HTML elements, it will prove difficult to fit everything we want into one blank page:</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="application-structure.html#cb498-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb498-2"><a href="application-structure.html#cb498-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">HTML</span>(<span class="fu">paste</span>(<span class="fu">rep</span>(<span class="st">&quot;&lt;p&gt;All work and no play makes Jack a dull boy&lt;/p&gt;&quot;</span>, <span class="dv">1000</span>),</span>
<span id="cb498-3"><a href="application-structure.html#cb498-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>))</span>
<span id="cb498-4"><a href="application-structure.html#cb498-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_10.png" alt="" />
<p class="caption">Maybe I’ll stay at a different hotel.</p>
</div>
<p>Instead, we can use the popular Sidebar layout to help organize our web page. This works by placing two functions inside the UI argument: <code>sidebarPanel()</code> and <code>mainPanel()</code>. This offers us nice compartmentalization of design without demanding too many arguments or details from us as we put it together. Very useful for quick apps that you don’t need to make look <em>that</em> good. We just need to nest our two panels inside <code>sidebarLayout()</code> like so:</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="application-structure.html#cb499-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb499-2"><a href="application-structure.html#cb499-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">&quot;I never get tired of these inane examples.&quot;</span>),</span>
<span id="cb499-3"><a href="application-structure.html#cb499-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb499-4"><a href="application-structure.html#cb499-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="cb499-5"><a href="application-structure.html#cb499-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">HTML</span>(<span class="fu">paste</span>(<span class="fu">rep</span>(<span class="st">&quot;&lt;p&gt;This is the sidebar&lt;/p&gt;&quot;</span>, <span class="dv">10</span>), <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>))),</span>
<span id="cb499-6"><a href="application-structure.html#cb499-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb499-7"><a href="application-structure.html#cb499-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h1</span>(<span class="st">&quot;and this is the main panel!&quot;</span>))</span>
<span id="cb499-8"><a href="application-structure.html#cb499-8" aria-hidden="true" tabindex="-1"></a>    ))</span></code></pre></div>
<div class="figure">
<img src="img/shiny_11.png" alt="" />
<p class="caption">Much better.</p>
</div>
<p>We can add other elements, like <code>titlePanel()</code>, to bring the app together. Notice that the title panel is located <em>outside</em> of the <code>sidebarLayout()</code> call, since we don’t want it inside our sidebar or main panel elements. <strong>Nesting the functions is the same as the nesting of the layout.</strong></p>
</div>
<div id="fluidpage" class="section level4" number="10.2.1.4">
<h4><span class="header-section-number">10.2.1.4</span> FluidPage</h4>
<p>There is an alternative to the sidebar-main panel layout, which is a little constricting if you don’t want this super big sidebar taking up everything. The FluidPage (which we have been using as our parent function this whole time! Woa!) can allow for a more grid-like customization of the application.</p>
<p>While there are a lot of ways to control the height and width of your fluid rows, we’ll look at a quick example to see a comically bad example of doing so.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="application-structure.html#cb500-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #007BA7&#39;</span>,</span>
<span id="cb500-2"><a href="application-structure.html#cb500-2" aria-hidden="true" tabindex="-1"></a>                <span class="fu">fluidRow</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #F3A712&#39;</span>,</span>
<span id="cb500-3"><a href="application-structure.html#cb500-3" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">p</span>(<span class="st">&quot;I&#39;m in the first row!&quot;</span>),</span>
<span id="cb500-4"><a href="application-structure.html#cb500-4" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">column</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #A8C686&#39;</span>,</span>
<span id="cb500-5"><a href="application-structure.html#cb500-5" aria-hidden="true" tabindex="-1"></a>                                <span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb500-6"><a href="application-structure.html#cb500-6" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">p</span>(<span class="st">&quot;Left columm!&quot;</span>)),</span>
<span id="cb500-7"><a href="application-structure.html#cb500-7" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">column</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #DB162F&#39;</span>,</span>
<span id="cb500-8"><a href="application-structure.html#cb500-8" aria-hidden="true" tabindex="-1"></a>                                <span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb500-9"><a href="application-structure.html#cb500-9" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">p</span>(<span class="st">&quot;Right column!&quot;</span>))),</span>
<span id="cb500-10"><a href="application-structure.html#cb500-10" aria-hidden="true" tabindex="-1"></a>                <span class="fu">fluidRow</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #E6BCCD&#39;</span>,</span>
<span id="cb500-11"><a href="application-structure.html#cb500-11" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">p</span>(<span class="st">&quot;I&#39;m in the second row!&quot;</span>),</span>
<span id="cb500-12"><a href="application-structure.html#cb500-12" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">column</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #BEE3DB&#39;</span>,</span>
<span id="cb500-13"><a href="application-structure.html#cb500-13" aria-hidden="true" tabindex="-1"></a>                                <span class="at">width=</span><span class="dv">6</span>,</span>
<span id="cb500-14"><a href="application-structure.html#cb500-14" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">p</span>(<span class="st">&quot;Left, lower&quot;</span>)),</span>
<span id="cb500-15"><a href="application-structure.html#cb500-15" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">column</span>(<span class="at">style =</span> <span class="st">&#39;background-color: #9D44B5&#39;</span>,</span>
<span id="cb500-16"><a href="application-structure.html#cb500-16" aria-hidden="true" tabindex="-1"></a>                                <span class="at">width=</span><span class="dv">6</span>,</span>
<span id="cb500-17"><a href="application-structure.html#cb500-17" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">p</span>(<span class="st">&quot;Right, lower!&quot;</span>))))</span></code></pre></div>
<div class="figure">
<img src="img/shiny_12.png" alt="" />
<p class="caption">This was very fun lol.</p>
</div>
<p>The main gist is that each <code>fluidRow()</code> creates a new row inside whatever function it is, and then you can use the <code>column</code> function inside each row to further split up the page. Then, you can use the same input and output functions inside each of these, along with whatever normal HTML you wish. The overall, standard width of the page is 12 unnamed shiny units, so keep ensure your widths don’t add up to more than 12.</p>
<div class="figure">
<img src="https://d33wubrfki0l68.cloudfront.net/15ea13e6dd0ba26014225718b5541abb983e0a45/7b30e/diagrams/action-layout/multirow.png" alt="" />
<p class="caption">Splitting up a page with fluidRows.</p>
</div>
<div id="exercise-2---fluidpage-collage" class="section level6 unnumbered box important">
<h6>Exercise 2 - FluidPage Collage</h6>
<p>Try using <code>fluidPage()</code>, <code>fluidRow()</code>, and <code>column()</code> to create a collage of images! You can easily include an image in your Shiny app using <code>img(src="img.url")</code>.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="application-structure.html#cb501-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb501-2"><a href="application-structure.html#cb501-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb501-3"><a href="application-structure.html#cb501-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb501-4"><a href="application-structure.html#cb501-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb501-5"><a href="application-structure.html#cb501-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">img</span>(<span class="at">src=</span><span class="fu">paste0</span>(<span class="st">&quot;https://extension.umn.edu/sites/extension.umn.edu/&quot;</span>,</span>
<span id="cb501-6"><a href="application-structure.html#cb501-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;files/styles/caption_medium/public/big-spittle&quot;</span>,</span>
<span id="cb501-7"><a href="application-structure.html#cb501-7" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;bug-fig3_0.jpg?itok=dQJIfJw4&quot;</span>))),</span>
<span id="cb501-8"><a href="application-structure.html#cb501-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb501-9"><a href="application-structure.html#cb501-9" aria-hidden="true" tabindex="-1"></a>           <span class="fu">img</span>(<span class="at">src=</span><span class="fu">paste0</span>(<span class="st">&quot;https://www.gardeningknowhow.com/wp-content/uploads&quot;</span>,</span>
<span id="cb501-10"><a href="application-structure.html#cb501-10" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;/2021/05/rhododendron-leafhopper-400x300.jpg&quot;</span>)))</span>
<span id="cb501-11"><a href="application-structure.html#cb501-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb501-12"><a href="application-structure.html#cb501-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb501-13"><a href="application-structure.html#cb501-13" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) { }</span>
<span id="cb501-14"><a href="application-structure.html#cb501-14" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
</div>
</div>
<div id="server-functionality" class="section level3" number="10.2.2">
<h3><span class="header-section-number">10.2.2</span> Server Functionality</h3>
<p>Once we have a place in the front end, we can start to manipulate the server side to control and run out application. The interface is nothing without the back end it controls; the back end is where we can start to write our R and manipulate data to inform the user.</p>
<p>The server function has two components we worry about: the <code>input</code>, which delivers to us information from the user, and <code>output</code>, which we can pass data and objects to be rendered by our webpage.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="application-structure.html#cb502-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb502-2"><a href="application-structure.html#cb502-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb502-3"><a href="application-structure.html#cb502-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">radioButtons</span>(<span class="st">&quot;radio&quot;</span>, <span class="at">label =</span> <span class="st">&quot;Number of points&quot;</span>, <span class="at">choices =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>)),</span>
<span id="cb502-4"><a href="application-structure.html#cb502-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plotOutput</span>(<span class="st">&quot;plot&quot;</span>)</span>
<span id="cb502-5"><a href="application-structure.html#cb502-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb502-6"><a href="application-structure.html#cb502-6" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb502-7"><a href="application-structure.html#cb502-7" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb502-8"><a href="application-structure.html#cb502-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="fu">rnorm</span>(input<span class="sc">$</span>radio), <span class="dv">1</span><span class="sc">:</span>input<span class="sc">$</span>radio)</span>
<span id="cb502-9"><a href="application-structure.html#cb502-9" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb502-10"><a href="application-structure.html#cb502-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb502-11"><a href="application-structure.html#cb502-11" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_13.png" alt="" />
<p class="caption">This isn’t ggplot so the default theme is fine.</p>
</div>
<div id="input" class="section level4" number="10.2.2.1">
<h4><span class="header-section-number">10.2.2.1</span> Input</h4>
<p>We can pick apart this teeny example application to see how inputs translate to the server function. When we create our radio buttons, we assign the input id “radio.” The application is started and the first choice, 10, is selected by default. That value is immediately entered into the <code>input</code> variable in the server. When a user selects a different option, the new value is updated inside the <code>input</code> variable.</p>
<p>We can reference the <code>input</code> variable inside our server to change our plot in this case. If I select the button for 20 instead of 10, the random number of points put into <code>plot()</code> changes from 10 to 20. The variable is static, so I can use it multiple times in my server function.</p>
</div>
<div id="output" class="section level4" number="10.2.2.2">
<h4><span class="header-section-number">10.2.2.2</span> Output</h4>
<p>Finally, the server function delivers this output <em>back</em> to the web interface. In this example, we created a <code>plotOutput()</code> below the radio buttons to display our plot. Inside the server function, we use <code>output$plot</code> to match the output ID we created in <code>plotOutput()</code>. The rendered plot is then inserted into that part of the document. This process of matching IDs mirrors the input process.</p>
<div id="exercise-3---inputs-and-outputs" class="section level6 unnumbered box important">
<h6>Exercise 3 - Inputs and Outputs</h6>
<p>Now that you can connect inputs and outputs try to combine a couple! Here is a short list of inputs:
- <code>dateInput()</code>
- <code>radioButtons()</code>
- <code>textInput()</code>
And outputs:
- <code>imageOutput()</code>
- <code>plotOutput()</code>
- <code>textOutput()</code>
See the cheat sheet and docs for more! Here is a little example, try something else:</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="application-structure.html#cb503-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb503-2"><a href="application-structure.html#cb503-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb503-3"><a href="application-structure.html#cb503-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">textInput</span>(<span class="st">&quot;text&quot;</span>, <span class="st">&quot;Enter some text&quot;</span>),</span>
<span id="cb503-4"><a href="application-structure.html#cb503-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plotOutput</span>(<span class="st">&quot;plot&quot;</span>)</span>
<span id="cb503-5"><a href="application-structure.html#cb503-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb503-6"><a href="application-structure.html#cb503-6" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb503-7"><a href="application-structure.html#cb503-7" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb503-8"><a href="application-structure.html#cb503-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="dv">1</span>, <span class="at">type=</span><span class="st">&quot;n&quot;</span>, <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>))</span>
<span id="cb503-9"><a href="application-structure.html#cb503-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">text</span>(input<span class="sc">$</span>text, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">1</span>)</span>
<span id="cb503-10"><a href="application-structure.html#cb503-10" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb503-11"><a href="application-structure.html#cb503-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb503-12"><a href="application-structure.html#cb503-12" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<p>There are a number of base outputs types: tables, plots, UI (for additional elements), and so on. There are also additional libraries for elements like maps, networks, and even 3D objects. DataTables are especially useful for sharing data with users.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="application-structure.html#cb504-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb504-2"><a href="application-structure.html#cb504-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb504-3"><a href="application-structure.html#cb504-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(<span class="fu">dataTableOutput</span>(<span class="st">&quot;dt&quot;</span>))</span>
<span id="cb504-4"><a href="application-structure.html#cb504-4" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb504-5"><a href="application-structure.html#cb504-5" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>dt <span class="ot">&lt;-</span> DT<span class="sc">::</span><span class="fu">renderDataTable</span>(</span>
<span id="cb504-6"><a href="application-structure.html#cb504-6" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(iris, <span class="at">extensions =</span> <span class="st">&#39;Buttons&#39;</span>, <span class="at">class =</span> <span class="st">&quot;display&quot;</span>,</span>
<span id="cb504-7"><a href="application-structure.html#cb504-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">paging =</span> <span class="cn">TRUE</span>, <span class="at">searching =</span> <span class="cn">TRUE</span>,</span>
<span id="cb504-8"><a href="application-structure.html#cb504-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">fixedColumns =</span> <span class="cn">TRUE</span>, <span class="at">autoWidth =</span> <span class="cn">TRUE</span>,</span>
<span id="cb504-9"><a href="application-structure.html#cb504-9" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">ordering =</span> <span class="cn">TRUE</span>, <span class="at">dom =</span> <span class="st">&#39;Bfrtip&#39;</span>,</span>
<span id="cb504-10"><a href="application-structure.html#cb504-10" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">buttons =</span> <span class="fu">c</span>(<span class="st">&#39;copy&#39;</span>, <span class="st">&#39;csv&#39;</span>))))</span>
<span id="cb504-11"><a href="application-structure.html#cb504-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb504-12"><a href="application-structure.html#cb504-12" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_14.png" alt="" />
<p class="caption">Once I spent like a week trying to get this work and my old boss canned the project ¯\<em>(ツ)</em>/¯</p>
</div>
<p>And here is a cool example using a package I’ve never tried before.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="application-structure.html#cb505-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb505-2"><a href="application-structure.html#cb505-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(threejs)</span>
<span id="cb505-3"><a href="application-structure.html#cb505-3" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb505-4"><a href="application-structure.html#cb505-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sliderInput</span>(<span class="st">&quot;maxz&quot;</span>, <span class="st">&quot;Height of graph&quot;</span>, <span class="dv">5</span>, <span class="dv">25</span>, <span class="dv">10</span>),</span>
<span id="cb505-5"><a href="application-structure.html#cb505-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scatterplotThreeOutput</span>(<span class="st">&quot;scatterplot&quot;</span>)</span>
<span id="cb505-6"><a href="application-structure.html#cb505-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb505-7"><a href="application-structure.html#cb505-7" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb505-8"><a href="application-structure.html#cb505-8" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> <span class="fu">renderScatterplotThree</span>({</span>
<span id="cb505-9"><a href="application-structure.html#cb505-9" aria-hidden="true" tabindex="-1"></a>    z <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">10</span>, input<span class="sc">$</span>maxz, <span class="fl">0.01</span>)</span>
<span id="cb505-10"><a href="application-structure.html#cb505-10" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">cos</span>(z)</span>
<span id="cb505-11"><a href="application-structure.html#cb505-11" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> <span class="fu">sin</span>(z)</span>
<span id="cb505-12"><a href="application-structure.html#cb505-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scatterplot3js</span>(x,y,z, <span class="at">color=</span><span class="fu">rainbow</span>(<span class="fu">length</span>(z)))</span>
<span id="cb505-13"><a href="application-structure.html#cb505-13" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb505-14"><a href="application-structure.html#cb505-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb505-15"><a href="application-structure.html#cb505-15" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_15.png" alt="" />
<p class="caption">I think there was a toy like this at my doctor’s once</p>
</div>
<div id="traceback" class="section level5" number="10.2.2.2.1">
<h5><span class="header-section-number">10.2.2.2.1</span> Traceback</h5>
<p>One essential feature for Shiny is determining why errors crop up. You may have some familiarity with this kind of troubleshooting in base R, but because Shiny is abstracting our R into an entire application, the errors can turn into edlritch horrors without compare.</p>
<p>One main tool is automatic, and that is the traceback. When a shiny app fails in a specific way, the error printed lists how the application arrived at that issue. Each function used is listed, in reverse order, from when it was called. In this way, we can track down exactly where our problem lies.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb506-1"><a href="application-structure.html#cb506-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb506-2"><a href="application-structure.html#cb506-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb506-3"><a href="application-structure.html#cb506-3" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">g</span>(x)</span>
<span id="cb506-4"><a href="application-structure.html#cb506-4" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">h</span>(x)</span>
<span id="cb506-5"><a href="application-structure.html#cb506-5" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb506-6"><a href="application-structure.html#cb506-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb506-7"><a href="application-structure.html#cb506-7" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb506-8"><a href="application-structure.html#cb506-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">selectInput</span>(<span class="st">&quot;n&quot;</span>, <span class="st">&quot;N&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>),</span>
<span id="cb506-9"><a href="application-structure.html#cb506-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plotOutput</span>(<span class="st">&quot;plot&quot;</span>)</span>
<span id="cb506-10"><a href="application-structure.html#cb506-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb506-11"><a href="application-structure.html#cb506-11" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb506-12"><a href="application-structure.html#cb506-12" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb506-13"><a href="application-structure.html#cb506-13" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="fu">f</span>(input<span class="sc">$</span>n)</span>
<span id="cb506-14"><a href="application-structure.html#cb506-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="fu">head</span>(cars, n))</span>
<span id="cb506-15"><a href="application-structure.html#cb506-15" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">res =</span> <span class="dv">96</span>)</span>
<span id="cb506-16"><a href="application-structure.html#cb506-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb506-17"><a href="application-structure.html#cb506-17" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure">
<img src="img/shiny_16.png" alt="" />
<p class="caption">I swear this is more useful than it looks</p>
</div>
<p>The above application fails because of the three functions at the beginning.</p>
<p>Now that I know the error is limited to my <code>f()</code> function on line 13, I can do one of two things:<br />
1. I can use a <code>print()</code> statement to try and deduce why this is failing.<br />
2. I can enable the debugger to take a step by step approach to how my code is running.</p>
<p>Debugging…well…you could write a course based on it. However, printing is often a useful quick and dirty technique for parsing your code troubles quickly. Because it sounds like my argument is a problem, and my only input right now is <code>input$n</code>, let me see what that looks like with <code>print(input$n)</code> and <code>print(typeof(input$n))</code>.</p>
<p>A quick <code>as.numeric()</code> will fix my app right up and allow me to plot car data? 🚗 🏎️</p>
<div id="exercise-4---print-output" class="section level6 unnumbered box important">
<h6>Exercise 4 - Print Output</h6>
<p>While not the most nuanced debugging strategy, sliding a <code>print()</code> statement into your code is a tried and true method of figuring out what your code is doing. Can you figure out where we can put a <code>print()</code> statement here to see what our input is doing when a button is changed?</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="application-structure.html#cb507-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb507-2"><a href="application-structure.html#cb507-2" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(<span class="fu">radioButtons</span>(<span class="st">&quot;hey&quot;</span>,</span>
<span id="cb507-3"><a href="application-structure.html#cb507-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;woa cool bugs&quot;</span>,</span>
<span id="cb507-4"><a href="application-structure.html#cb507-4" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">c</span>(<span class="st">&quot;One&quot;</span>, <span class="st">&quot;Two&quot;</span>)),</span>
<span id="cb507-5"><a href="application-structure.html#cb507-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">textOutput</span>(<span class="st">&quot;out&quot;</span>))</span>
<span id="cb507-6"><a href="application-structure.html#cb507-6" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb507-7"><a href="application-structure.html#cb507-7" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>out <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb507-8"><a href="application-structure.html#cb507-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ?</span></span>
<span id="cb507-9"><a href="application-structure.html#cb507-9" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb507-10"><a href="application-structure.html#cb507-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb507-11"><a href="application-structure.html#cb507-11" aria-hidden="true" tabindex="-1"></a><span class="fu">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
</div>
</div>
</div>
</div>
<p style="text-align: center;">
<a href="rshiny-introduction.html"><button class="btn btn-default">Previous</button></a>
<a href="reactivity.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
