<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 R Programming | BF591 - R for Biological Sciences</title>
  <meta name="description" content="4 R Programming | BF591 - R for Biological Sciences" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4 R Programming | BF591 - R for Biological Sciences" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 R Programming | BF591 - R for Biological Sciences" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preliminaries.html"/>
<link rel="next" href="data-wrangling.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-schedule"><i class="fa fa-check"></i>Course Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#instructors"><i class="fa fa-check"></i>Instructors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#office-hours"><i class="fa fa-check"></i>Office Hours</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-values-and-policies"><i class="fa fa-check"></i>Course Values and Policies</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#who-this-book-is-for"><i class="fa fa-check"></i><b>1.1</b> Who This Book Is For</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#a-note-about-reinventing-the-wheel"><i class="fa fa-check"></i><b>1.2</b> A Note About Reinventing the Wheel</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#sources-and-references"><i class="fa fa-check"></i><b>1.3</b> Sources and References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-bio.html"><a href="data-bio.html"><i class="fa fa-check"></i><b>2</b> Data in Biology</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-bio.html"><a href="data-bio.html#a-brief-history-of-data-in-molecular-biology"><i class="fa fa-check"></i><b>2.1</b> A Brief History of Data in Molecular Biology</a></li>
<li class="chapter" data-level="2.2" data-path="data-bio.html"><a href="data-bio.html#biology-as-a-mature-data-science"><i class="fa fa-check"></i><b>2.2</b> Biology as a Mature Data Science</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>3</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="3.1" data-path="preliminaries.html"><a href="preliminaries.html#prelim-r"><i class="fa fa-check"></i><b>3.1</b> The R Language</a></li>
<li class="chapter" data-level="3.2" data-path="preliminaries.html"><a href="preliminaries.html#prelim-rstudio"><i class="fa fa-check"></i><b>3.2</b> RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="preliminaries.html"><a href="preliminaries.html#prog-the-r-script"><i class="fa fa-check"></i><b>3.3</b> The R Script</a></li>
<li class="chapter" data-level="3.4" data-path="preliminaries.html"><a href="preliminaries.html#prog-workflow"><i class="fa fa-check"></i><b>3.4</b> The Scripting Workflow</a></li>
<li class="chapter" data-level="3.5" data-path="preliminaries.html"><a href="preliminaries.html#prelim-git"><i class="fa fa-check"></i><b>3.5</b> git + github</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="preliminaries.html"><a href="preliminaries.html#motivation"><i class="fa fa-check"></i><b>3.5.1</b> Motivation</a></li>
<li class="chapter" data-level="3.5.2" data-path="preliminaries.html"><a href="preliminaries.html#git"><i class="fa fa-check"></i><b>3.5.2</b> git</a></li>
<li class="chapter" data-level="3.5.3" data-path="preliminaries.html"><a href="preliminaries.html#git-hosting-platforms-github"><i class="fa fa-check"></i><b>3.5.3</b> Git hosting platforms (GitHub)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prog-basics.html"><a href="prog-basics.html"><i class="fa fa-check"></i><b>4</b> R Programming</a>
<ul>
<li class="chapter" data-level="4.1" data-path="prog-basics.html"><a href="prog-basics.html#before-you-begin"><i class="fa fa-check"></i><b>4.1</b> Before you begin</a></li>
<li class="chapter" data-level="4.2" data-path="prog-basics.html"><a href="prog-basics.html#introduction-1"><i class="fa fa-check"></i><b>4.2</b> Introduction</a></li>
<li class="chapter" data-level="4.3" data-path="prog-basics.html"><a href="prog-basics.html#prog-r-syntax"><i class="fa fa-check"></i><b>4.3</b> R Syntax Basics</a></li>
<li class="chapter" data-level="4.4" data-path="prog-basics.html"><a href="prog-basics.html#prog-types"><i class="fa fa-check"></i><b>4.4</b> Basic Types of Values</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="prog-basics.html"><a href="prog-basics.html#factors-."><i class="fa fa-check"></i><b>4.4.1</b> Factors .</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="prog-basics.html"><a href="prog-basics.html#prog-struct"><i class="fa fa-check"></i><b>4.5</b> Data Structures</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="prog-basics.html"><a href="prog-basics.html#vectors"><i class="fa fa-check"></i><b>4.5.1</b> Vectors</a></li>
<li class="chapter" data-level="4.5.2" data-path="prog-basics.html"><a href="prog-basics.html#matrices"><i class="fa fa-check"></i><b>4.5.2</b> Matrices</a></li>
<li class="chapter" data-level="4.5.3" data-path="prog-basics.html"><a href="prog-basics.html#lists-and-data-frames"><i class="fa fa-check"></i><b>4.5.3</b> Lists and data frames</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="prog-basics.html"><a href="prog-basics.html#logical-tests-and-comparators"><i class="fa fa-check"></i><b>4.6</b> Logical Tests and Comparators</a></li>
<li class="chapter" data-level="4.7" data-path="prog-basics.html"><a href="prog-basics.html#functions"><i class="fa fa-check"></i><b>4.7</b> Functions</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="prog-basics.html"><a href="prog-basics.html#prog-dry"><i class="fa fa-check"></i><b>4.7.1</b> DRY: Don’t Repeat Yourself</a></li>
<li class="chapter" data-level="4.7.2" data-path="prog-basics.html"><a href="prog-basics.html#writing-your-own-functions"><i class="fa fa-check"></i><b>4.7.2</b> Writing your own functions</a></li>
<li class="chapter" data-level="4.7.3" data-path="prog-basics.html"><a href="prog-basics.html#scope"><i class="fa fa-check"></i><b>4.7.3</b> Scope</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="prog-basics.html"><a href="prog-basics.html#iteration"><i class="fa fa-check"></i><b>4.8</b> Iteration</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="prog-basics.html"><a href="prog-basics.html#vectorized-operations"><i class="fa fa-check"></i><b>4.8.1</b> Vectorized operations</a></li>
<li class="chapter" data-level="4.8.2" data-path="prog-basics.html"><a href="prog-basics.html#functional-programming"><i class="fa fa-check"></i><b>4.8.2</b> Functional programming</a></li>
<li class="chapter" data-level="4.8.3" data-path="prog-basics.html"><a href="prog-basics.html#apply-and-friends"><i class="fa fa-check"></i><b>4.8.3</b> <code>apply()</code> and friends</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="prog-basics.html"><a href="prog-basics.html#installing-packages"><i class="fa fa-check"></i><b>4.9</b> Installing Packages</a></li>
<li class="chapter" data-level="4.10" data-path="prog-basics.html"><a href="prog-basics.html#saving-and-loading-r-data"><i class="fa fa-check"></i><b>4.10</b> Saving and Loading R Data</a></li>
<li class="chapter" data-level="4.11" data-path="prog-basics.html"><a href="prog-basics.html#prog-debugging"><i class="fa fa-check"></i><b>4.11</b> Troubleshooting and Debugging</a></li>
<li class="chapter" data-level="4.12" data-path="prog-basics.html"><a href="prog-basics.html#prog-style"><i class="fa fa-check"></i><b>4.12</b> Coding Style and Conventions</a>
<ul>
<li class="chapter" data-level="4.12.1" data-path="prog-basics.html"><a href="prog-basics.html#is-my-code-correct"><i class="fa fa-check"></i><b>4.12.1</b> Is my code correct?</a></li>
<li class="chapter" data-level="4.12.2" data-path="prog-basics.html"><a href="prog-basics.html#does-my-code-follow-the-dry-principle"><i class="fa fa-check"></i><b>4.12.2</b> Does my code follow the <span>DRY principle</span>?</a></li>
<li class="chapter" data-level="4.12.3" data-path="prog-basics.html"><a href="prog-basics.html#did-i-choose-concise-but-descriptive-variable-and-function-names"><i class="fa fa-check"></i><b>4.12.3</b> Did I choose concise but descriptive variable and function names?</a></li>
<li class="chapter" data-level="4.12.4" data-path="prog-basics.html"><a href="prog-basics.html#did-i-use-indentation-and-naming-conventions-consistently-throughout-my-code"><i class="fa fa-check"></i><b>4.12.4</b> Did I use indentation and naming conventions consistently throughout my code?</a></li>
<li class="chapter" data-level="4.12.5" data-path="prog-basics.html"><a href="prog-basics.html#did-i-write-comments-especially-when-what-the-code-does-is-not-obvious"><i class="fa fa-check"></i><b>4.12.5</b> Did I write comments, especially when what the code does is not obvious?</a></li>
<li class="chapter" data-level="4.12.6" data-path="prog-basics.html"><a href="prog-basics.html#how-easy-would-it-be-for-someone-else-to-understand-my-code"><i class="fa fa-check"></i><b>4.12.6</b> How easy would it be for someone else to understand my code?</a></li>
<li class="chapter" data-level="4.12.7" data-path="prog-basics.html"><a href="prog-basics.html#is-my-code-easy-to-maintainchange"><i class="fa fa-check"></i><b>4.12.7</b> Is my code easy to maintain/change?</a></li>
<li class="chapter" data-level="4.12.8" data-path="prog-basics.html"><a href="prog-basics.html#the-styler-package-."><i class="fa fa-check"></i><b>4.12.8</b> The <code>styler</code> package .</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>5</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#the-tidyverse"><i class="fa fa-check"></i><b>5.1</b> The Tidyverse</a></li>
<li class="chapter" data-level="5.2" data-path="data-wrangling.html"><a href="data-wrangling.html#dw-basics"><i class="fa fa-check"></i><b>5.2</b> Tidyverse Basics</a></li>
<li class="chapter" data-level="5.3" data-path="data-wrangling.html"><a href="data-wrangling.html#importing-data"><i class="fa fa-check"></i><b>5.3</b> Importing Data</a></li>
<li class="chapter" data-level="5.4" data-path="data-wrangling.html"><a href="data-wrangling.html#data-tibble"><i class="fa fa-check"></i><b>5.4</b> The tibble</a></li>
<li class="chapter" data-level="5.5" data-path="data-wrangling.html"><a href="data-wrangling.html#tidy-data"><i class="fa fa-check"></i><b>5.5</b> Tidy Data</a></li>
<li class="chapter" data-level="5.6" data-path="data-wrangling.html"><a href="data-wrangling.html#pipes"><i class="fa fa-check"></i><b>5.6</b> pipes</a></li>
<li class="chapter" data-level="5.7" data-path="data-wrangling.html"><a href="data-wrangling.html#arranging-data"><i class="fa fa-check"></i><b>5.7</b> Arranging Data</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyrmutate---create-new-columns-using-other-columns"><i class="fa fa-check"></i><b>5.7.1</b> <code>dplyr::mutate()</code> - Create new columns using other columns</a></li>
<li class="chapter" data-level="5.7.2" data-path="data-wrangling.html"><a href="data-wrangling.html#stringr---working-with-character-values"><i class="fa fa-check"></i><b>5.7.2</b> <code>stringr</code> - Working with character values</a></li>
<li class="chapter" data-level="5.7.3" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyrselect---subset-columns-by-name"><i class="fa fa-check"></i><b>5.7.3</b> <code>dplyr::select()</code> - Subset Columns by Name</a></li>
<li class="chapter" data-level="5.7.4" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyrfilter---pick-rows-out-of-a-data-set"><i class="fa fa-check"></i><b>5.7.4</b> <code>dplyr::filter()</code> - Pick rows out of a data set</a></li>
<li class="chapter" data-level="5.7.5" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyrarrange---order-rows-based-on-their-values"><i class="fa fa-check"></i><b>5.7.5</b> <code>dplyr::arrange()</code> - Order rows based on their values</a></li>
<li class="chapter" data-level="5.7.6" data-path="data-wrangling.html"><a href="data-wrangling.html#putting-it-all-together"><i class="fa fa-check"></i><b>5.7.6</b> Putting it all together</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="data-wrangling.html"><a href="data-wrangling.html#grouping-data"><i class="fa fa-check"></i><b>5.8</b> Grouping Data</a></li>
<li class="chapter" data-level="5.9" data-path="data-wrangling.html"><a href="data-wrangling.html#rearranging-data"><i class="fa fa-check"></i><b>5.9</b> Rearranging Data</a></li>
<li class="chapter" data-level="5.10" data-path="data-wrangling.html"><a href="data-wrangling.html#relational-data"><i class="fa fa-check"></i><b>5.10</b> Relational Data</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="data-wrangling.html"><a href="data-wrangling.html#dealing-with-multiple-matches"><i class="fa fa-check"></i><b>5.10.1</b> Dealing with multiple matches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-science.html"><a href="data-science.html"><i class="fa fa-check"></i><b>6</b> Data Science</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-science.html"><a href="data-science.html#data-modeling"><i class="fa fa-check"></i><b>6.1</b> Data Modeling</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-science.html"><a href="data-science.html#a-worked-modeling-example"><i class="fa fa-check"></i><b>6.1.1</b> A Worked Modeling Example</a></li>
<li class="chapter" data-level="6.1.2" data-path="data-science.html"><a href="data-science.html#data-summarization"><i class="fa fa-check"></i><b>6.1.2</b> Data Summarization</a></li>
<li class="chapter" data-level="6.1.3" data-path="data-science.html"><a href="data-science.html#linear-models"><i class="fa fa-check"></i><b>6.1.3</b> Linear Models</a></li>
<li class="chapter" data-level="6.1.4" data-path="data-science.html"><a href="data-science.html#flavors-of-linear-models"><i class="fa fa-check"></i><b>6.1.4</b> Flavors of Linear Models</a></li>
<li class="chapter" data-level="6.1.5" data-path="data-science.html"><a href="data-science.html#assessing-model-accuracy-."><i class="fa fa-check"></i><b>6.1.5</b> Assessing Model Accuracy .</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-science.html"><a href="data-science.html#statistical-distributions-tests-."><i class="fa fa-check"></i><b>6.2</b> Statistical Distributions &amp; Tests .</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-science.html"><a href="data-science.html#statistical-distributions"><i class="fa fa-check"></i><b>6.2.1</b> Statistical Distributions</a></li>
<li class="chapter" data-level="6.2.2" data-path="data-science.html"><a href="data-science.html#statistical-tests-."><i class="fa fa-check"></i><b>6.2.2</b> Statistical Tests .</a></li>
<li class="chapter" data-level="6.2.3" data-path="data-science.html"><a href="data-science.html#p-values-."><i class="fa fa-check"></i><b>6.2.3</b> p-values .</a></li>
<li class="chapter" data-level="6.2.4" data-path="data-science.html"><a href="data-science.html#multiple-hypothesis-testing-."><i class="fa fa-check"></i><b>6.2.4</b> Multiple Hypothesis Testing .</a></li>
<li class="chapter" data-level="6.2.5" data-path="data-science.html"><a href="data-science.html#statistical-power-."><i class="fa fa-check"></i><b>6.2.5</b> Statistical power .</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-science.html"><a href="data-science.html#clustering-."><i class="fa fa-check"></i><b>6.3</b> Clustering .</a></li>
<li class="chapter" data-level="6.4" data-path="data-science.html"><a href="data-science.html#network-analysis-."><i class="fa fa-check"></i><b>6.4</b> Network Analysis .</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>7</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-visualization.html"><a href="data-visualization.html#dv-gg"><i class="fa fa-check"></i><b>7.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="7.2" data-path="data-visualization.html"><a href="data-visualization.html#plotting-one-dimension"><i class="fa fa-check"></i><b>7.2</b> Plotting One Dimension</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="data-visualization.html"><a href="data-visualization.html#dv-bar"><i class="fa fa-check"></i><b>7.2.1</b> Bar chart</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-visualization.html"><a href="data-visualization.html#lollipop-plots"><i class="fa fa-check"></i><b>7.2.2</b> Lollipop plots</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-visualization.html"><a href="data-visualization.html#stacked-area-charts"><i class="fa fa-check"></i><b>7.2.3</b> Stacked Area charts</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-visualization.html"><a href="data-visualization.html#parallel-coordinate-plots"><i class="fa fa-check"></i><b>7.2.4</b> Parallel Coordinate plots</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-visualization.html"><a href="data-visualization.html#visualizing-distributions"><i class="fa fa-check"></i><b>7.3</b> Visualizing Distributions</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-visualization.html"><a href="data-visualization.html#histogram"><i class="fa fa-check"></i><b>7.3.1</b> Histogram</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-visualization.html"><a href="data-visualization.html#density"><i class="fa fa-check"></i><b>7.3.2</b> Density</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-visualization.html"><a href="data-visualization.html#boxplot"><i class="fa fa-check"></i><b>7.3.3</b> Boxplot</a></li>
<li class="chapter" data-level="7.3.4" data-path="data-visualization.html"><a href="data-visualization.html#violin-plot"><i class="fa fa-check"></i><b>7.3.4</b> Violin plot</a></li>
<li class="chapter" data-level="7.3.5" data-path="data-visualization.html"><a href="data-visualization.html#beeswarm-plot"><i class="fa fa-check"></i><b>7.3.5</b> Beeswarm plot</a></li>
<li class="chapter" data-level="7.3.6" data-path="data-visualization.html"><a href="data-visualization.html#ridgeline"><i class="fa fa-check"></i><b>7.3.6</b> Ridgeline</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-visualization.html"><a href="data-visualization.html#plotting-two-or-more-dimensions-."><i class="fa fa-check"></i><b>7.4</b> Plotting Two or More Dimensions .</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="data-visualization.html"><a href="data-visualization.html#scatter-plot-."><i class="fa fa-check"></i><b>7.4.1</b> Scatter plot .</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-visualization.html"><a href="data-visualization.html#line-plot-."><i class="fa fa-check"></i><b>7.4.2</b> Line plot .</a></li>
<li class="chapter" data-level="7.4.3" data-path="data-visualization.html"><a href="data-visualization.html#bubble-plot-."><i class="fa fa-check"></i><b>7.4.3</b> Bubble plot .</a></li>
<li class="chapter" data-level="7.4.4" data-path="data-visualization.html"><a href="data-visualization.html#heatmaps-."><i class="fa fa-check"></i><b>7.4.4</b> Heatmaps .</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-visualization.html"><a href="data-visualization.html#other-kind-of-plots-."><i class="fa fa-check"></i><b>7.5</b> Other Kind of Plots .</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="data-visualization.html"><a href="data-visualization.html#chord-."><i class="fa fa-check"></i><b>7.5.1</b> Chord .</a></li>
<li class="chapter" data-level="7.5.2" data-path="data-visualization.html"><a href="data-visualization.html#sankey-."><i class="fa fa-check"></i><b>7.5.2</b> Sankey .</a></li>
<li class="chapter" data-level="7.5.3" data-path="data-visualization.html"><a href="data-visualization.html#dendrogram-."><i class="fa fa-check"></i><b>7.5.3</b> Dendrogram .</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="data-visualization.html"><a href="data-visualization.html#tips-and-tricks-."><i class="fa fa-check"></i><b>7.6</b> Tips and Tricks .</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="data-visualization.html"><a href="data-visualization.html#reordering-1-d-data-elements-."><i class="fa fa-check"></i><b>7.6.1</b> Reordering 1-D Data Elements .</a></li>
<li class="chapter" data-level="7.6.2" data-path="data-visualization.html"><a href="data-visualization.html#confidence-intervals-."><i class="fa fa-check"></i><b>7.6.2</b> Confidence Intervals .</a></li>
<li class="chapter" data-level="7.6.3" data-path="data-visualization.html"><a href="data-visualization.html#annotations-."><i class="fa fa-check"></i><b>7.6.3</b> Annotations .</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="data-visualization.html"><a href="data-visualization.html#multiple-plots-."><i class="fa fa-check"></i><b>7.7</b> Multiple Plots .</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="data-visualization.html"><a href="data-visualization.html#secondary-axes-."><i class="fa fa-check"></i><b>7.7.1</b> Secondary Axes .</a></li>
<li class="chapter" data-level="7.7.2" data-path="data-visualization.html"><a href="data-visualization.html#facet-wrapping-."><i class="fa fa-check"></i><b>7.7.2</b> Facet wrapping .</a></li>
<li class="chapter" data-level="7.7.3" data-path="data-visualization.html"><a href="data-visualization.html#multipanel-figures-."><i class="fa fa-check"></i><b>7.7.3</b> Multipanel Figures .</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="data-visualization.html"><a href="data-visualization.html#responsible-plotting-."><i class="fa fa-check"></i><b>7.8</b> Responsible Plotting .</a></li>
<li class="chapter" data-level="7.9" data-path="data-visualization.html"><a href="data-visualization.html#publication-ready-plots-."><i class="fa fa-check"></i><b>7.9</b> Publication Ready Plots .</a></li>
<li class="chapter" data-level="7.10" data-path="data-visualization.html"><a href="data-visualization.html#network-visualization-."><i class="fa fa-check"></i><b>7.10</b> Network visualization .</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html"><i class="fa fa-check"></i><b>8</b> Biology &amp; Bioinformatics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#bio-r"><i class="fa fa-check"></i><b>8.1</b> R in Biology</a></li>
<li class="chapter" data-level="8.2" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#csv-files"><i class="fa fa-check"></i><b>8.2</b> CSV Files</a></li>
<li class="chapter" data-level="8.3" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#bio-data-types"><i class="fa fa-check"></i><b>8.3</b> Types of Biological Data</a></li>
<li class="chapter" data-level="8.4" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#common-biological-data-matrices"><i class="fa fa-check"></i><b>8.4</b> Common Biological Data Matrices</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#biological-data-is-not-tidy"><i class="fa fa-check"></i><b>8.4.1</b> Biological data is NOT Tidy!</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#bio-bioconductor"><i class="fa fa-check"></i><b>8.5</b> Bioconductor</a></li>
<li class="chapter" data-level="8.6" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-identifiers"><i class="fa fa-check"></i><b>8.6</b> Gene Identifiers</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-identifier-systems"><i class="fa fa-check"></i><b>8.6.1</b> Gene Identifier Systems</a></li>
<li class="chapter" data-level="8.6.2" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#mapping-between-identifier-systems"><i class="fa fa-check"></i><b>8.6.2</b> Mapping Between Identifier Systems</a></li>
<li class="chapter" data-level="8.6.3" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#mapping-homologs"><i class="fa fa-check"></i><b>8.6.3</b> Mapping Homologs</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-expression"><i class="fa fa-check"></i><b>8.7</b> Gene Expression</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-expression-data-in-bioconductor"><i class="fa fa-check"></i><b>8.7.1</b> Gene Expression Data in Bioconductor</a></li>
<li class="chapter" data-level="8.7.2" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#microarrays"><i class="fa fa-check"></i><b>8.7.2</b> Microarrays</a></li>
<li class="chapter" data-level="8.7.3" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#microarray-data-in-bioconductor"><i class="fa fa-check"></i><b>8.7.3</b> Microarray Data in Bioconductor</a></li>
<li class="chapter" data-level="8.7.4" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#differential-expression-microarrays-limma-."><i class="fa fa-check"></i><b>8.7.4</b> Differential Expression: Microarrays (limma) .</a></li>
<li class="chapter" data-level="8.7.5" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#high-throughput-sequencing-."><i class="fa fa-check"></i><b>8.7.5</b> High Throughput Sequencing .</a></li>
<li class="chapter" data-level="8.7.6" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#count-data-."><i class="fa fa-check"></i><b>8.7.6</b> Count Data .</a></li>
<li class="chapter" data-level="8.7.7" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#rnaseq-."><i class="fa fa-check"></i><b>8.7.7</b> RNASeq .</a></li>
<li class="chapter" data-level="8.7.8" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#differential-expression-rnaseq-."><i class="fa fa-check"></i><b>8.7.8</b> Differential Expression: RNASeq .</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#genomic-intervals-."><i class="fa fa-check"></i><b>8.8</b> Genomic Intervals .</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-set-enrichment-analysis"><i class="fa fa-check"></i><b>8.8.1</b> Gene Set Enrichment Analysis</a></li>
<li class="chapter" data-level="8.8.2" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-sets"><i class="fa fa-check"></i><b>8.8.2</b> Gene Sets</a></li>
<li class="chapter" data-level="8.8.3" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#working-with-gene-sets-in-r"><i class="fa fa-check"></i><b>8.8.3</b> Working with gene sets in R</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#over-representation-analysis"><i class="fa fa-check"></i><b>8.9</b> Over-representation Analysis</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#rank-based-analysis-."><i class="fa fa-check"></i><b>8.9.1</b> Rank-based Analysis .</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#biological-networks-."><i class="fa fa-check"></i><b>8.10</b> Biological Networks .</a>
<ul>
<li class="chapter" data-level="8.10.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#biological-pathways-."><i class="fa fa-check"></i><b>8.10.1</b> Biological Pathways .</a></li>
<li class="chapter" data-level="8.10.2" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#gene-regulatory-networks-."><i class="fa fa-check"></i><b>8.10.2</b> Gene Regulatory Networks .</a></li>
<li class="chapter" data-level="8.10.3" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#protein-protein-interaction-network-."><i class="fa fa-check"></i><b>8.10.3</b> Protein-Protein Interaction Network .</a></li>
<li class="chapter" data-level="8.10.4" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#wgcna-."><i class="fa fa-check"></i><b>8.10.4</b> WGCNA .</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#single-cell-sequencing-analysis-."><i class="fa fa-check"></i><b>8.11</b> Single Cell Sequencing Analysis .</a>
<ul>
<li class="chapter" data-level="8.11.1" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#single-cell-sequencing-."><i class="fa fa-check"></i><b>8.11.1</b> Single Cell Sequencing .</a></li>
<li class="chapter" data-level="8.11.2" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#single-cell-analysis-."><i class="fa fa-check"></i><b>8.11.2</b> Single Cell Analysis .</a></li>
<li class="chapter" data-level="8.11.3" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#single-cell-clustering-."><i class="fa fa-check"></i><b>8.11.3</b> Single Cell Clustering .</a></li>
<li class="chapter" data-level="8.11.4" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#dimensionality-reduction-projection-."><i class="fa fa-check"></i><b>8.11.4</b> Dimensionality Reduction &amp; Projection .</a></li>
<li class="chapter" data-level="8.11.5" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#single-cell-data-visualization-."><i class="fa fa-check"></i><b>8.11.5</b> Single Cell Data Visualization .</a></li>
<li class="chapter" data-level="8.11.6" data-path="biology-bioinformatics.html"><a href="biology-bioinformatics.html#single-cell-marker-analysis-."><i class="fa fa-check"></i><b>8.11.6</b> Single Cell Marker Analysis .</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="engineering.html"><a href="engineering.html"><i class="fa fa-check"></i><b>9</b> EngineeRing</a>
<ul>
<li class="chapter" data-level="9.1" data-path="engineering.html"><a href="engineering.html#unit-testing"><i class="fa fa-check"></i><b>9.1</b> Unit Testing</a></li>
<li class="chapter" data-level="9.2" data-path="engineering.html"><a href="engineering.html#toolification-."><i class="fa fa-check"></i><b>9.2</b> Toolification .</a></li>
<li class="chapter" data-level="9.3" data-path="engineering.html"><a href="engineering.html#pipelines-workflows-."><i class="fa fa-check"></i><b>9.3</b> Pipelines &amp; Workflows .</a></li>
<li class="chapter" data-level="9.4" data-path="engineering.html"><a href="engineering.html#parallel-processing-."><i class="fa fa-check"></i><b>9.4</b> Parallel Processing .</a></li>
<li class="chapter" data-level="9.5" data-path="engineering.html"><a href="engineering.html#r-packages-."><i class="fa fa-check"></i><b>9.5</b> R Packages .</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="rshiny.html"><a href="rshiny.html"><i class="fa fa-check"></i><b>10</b> RShiny</a>
<ul>
<li class="chapter" data-level="10.1" data-path="rshiny.html"><a href="rshiny.html#overview"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
<li class="chapter" data-level="10.2" data-path="rshiny.html"><a href="rshiny.html#learning-objectives"><i class="fa fa-check"></i><b>10.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.3" data-path="rshiny.html"><a href="rshiny.html#skill-list"><i class="fa fa-check"></i><b>10.3</b> Skill List</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="communicating-with-r.html"><a href="communicating-with-r.html"><i class="fa fa-check"></i><b>11</b> Communicating with R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="communicating-with-r.html"><a href="communicating-with-r.html#rmarkdown-knitr"><i class="fa fa-check"></i><b>11.1</b> RMarkdown &amp; knitr</a></li>
<li class="chapter" data-level="11.2" data-path="communicating-with-r.html"><a href="communicating-with-r.html#bookdown"><i class="fa fa-check"></i><b>11.2</b> bookdown</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="contribution-guide.html"><a href="contribution-guide.html"><i class="fa fa-check"></i><b>12</b> Contribution Guide</a>
<ul>
<li class="chapter" data-level="12.1" data-path="contribution-guide.html"><a href="contribution-guide.html#custom-blocks"><i class="fa fa-check"></i><b>12.1</b> Custom blocks</a></li>
</ul></li>
<li class="part"><span><b>I Assignments</b></span></li>
<li class="chapter" data-level="" data-path="assignment-format.html"><a href="assignment-format.html"><i class="fa fa-check"></i>Assignment Format</a></li>
<li class="chapter" data-level="" data-path="starting-an-assignment.html"><a href="starting-an-assignment.html"><i class="fa fa-check"></i>Starting an Assignment</a>
<ul>
<li><a href="starting-an-assignment.html#starting-your-own-git-repository-and-cloning-it">Starting your own <code>git</code> repository and cloning it</a>
<ul>
<li class="chapter" data-level="" data-path="starting-an-assignment.html"><a href="starting-an-assignment.html#contents"><i class="fa fa-check"></i>Contents</a></li>
<li class="chapter" data-level="" data-path="starting-an-assignment.html"><a href="starting-an-assignment.html#github-tutorial"><i class="fa fa-check"></i>GitHub tutorial</a></li>
<li class="chapter" data-level="" data-path="starting-an-assignment.html"><a href="starting-an-assignment.html#committing-and-pushing-with-r-and-without"><i class="fa fa-check"></i>Committing and Pushing with R (and without)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="assignment-1.html"><a href="assignment-1.html"><i class="fa fa-check"></i>Assignment 1</a>
<ul>
<li class="chapter" data-level="" data-path="assignment-1.html"><a href="assignment-1.html#problem-statement"><i class="fa fa-check"></i>Problem Statement</a></li>
<li class="chapter" data-level="" data-path="assignment-1.html"><a href="assignment-1.html#learning-objectives-and-skill-list"><i class="fa fa-check"></i>Learning Objectives and Skill List</a></li>
<li class="chapter" data-level="" data-path="assignment-1.html"><a href="assignment-1.html#instructions"><i class="fa fa-check"></i>Instructions</a></li>
<li class="chapter" data-level="" data-path="assignment-1.html"><a href="assignment-1.html#hints"><i class="fa fa-check"></i>Hints</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html"><i class="fa fa-check"></i>Assignment 2</a>
<ul>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html#problem-statement-1"><i class="fa fa-check"></i>Problem Statement</a></li>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html#learning-objectives-1"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html#skill-list-1"><i class="fa fa-check"></i>Skill List</a></li>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html#instructions-1"><i class="fa fa-check"></i>Instructions</a></li>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html#function-details"><i class="fa fa-check"></i>Function Details</a>
<ul>
<li class="chapter" data-level="" data-path="assignment-2.html"><a href="assignment-2.html#bioconductor"><i class="fa fa-check"></i>1. Bioconductor</a></li>
<li><a href="assignment-2.html#load_expression">2. <code>load_expression()</code></a></li>
<li><a href="assignment-2.html#filter_15">3. <code>filter_15()</code></a></li>
<li><a href="assignment-2.html#affy_to_hgnc">4. <code>affy_to_hgnc()</code></a></li>
<li><a href="assignment-2.html#reduce_data">5. <code>reduce_data()</code></a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="class-outlines.html"><a href="class-outlines.html"><i class="fa fa-check"></i><b>A</b> Class Outlines</a>
<ul>
<li class="chapter" data-level="A.1" data-path="class-outlines.html"><a href="class-outlines.html#week-1"><i class="fa fa-check"></i><b>A.1</b> Week 1</a></li>
<li class="chapter" data-level="A.2" data-path="class-outlines.html"><a href="class-outlines.html#week-2"><i class="fa fa-check"></i><b>A.2</b> Week 2</a></li>
<li class="chapter" data-level="A.3" data-path="class-outlines.html"><a href="class-outlines.html#week-3"><i class="fa fa-check"></i><b>A.3</b> Week 3</a></li>
<li class="chapter" data-level="A.4" data-path="class-outlines.html"><a href="class-outlines.html#week-4"><i class="fa fa-check"></i><b>A.4</b> Week 4</a></li>
<li class="chapter" data-level="A.5" data-path="class-outlines.html"><a href="class-outlines.html#week-5"><i class="fa fa-check"></i><b>A.5</b> Week 5</a></li>
<li class="chapter" data-level="A.6" data-path="class-outlines.html"><a href="class-outlines.html#week-6"><i class="fa fa-check"></i><b>A.6</b> Week 6</a></li>
<li class="chapter" data-level="A.7" data-path="class-outlines.html"><a href="class-outlines.html#week-7"><i class="fa fa-check"></i><b>A.7</b> Week 7</a></li>
<li class="chapter" data-level="A.8" data-path="class-outlines.html"><a href="class-outlines.html#week-8"><i class="fa fa-check"></i><b>A.8</b> Week 8</a></li>
<li class="chapter" data-level="A.9" data-path="class-outlines.html"><a href="class-outlines.html#week-9"><i class="fa fa-check"></i><b>A.9</b> Week 9</a></li>
<li class="chapter" data-level="A.10" data-path="class-outlines.html"><a href="class-outlines.html#week-10"><i class="fa fa-check"></i><b>A.10</b> Week 10</a></li>
<li class="chapter" data-level="A.11" data-path="class-outlines.html"><a href="class-outlines.html#week-11"><i class="fa fa-check"></i><b>A.11</b> Week 11</a></li>
<li class="chapter" data-level="A.12" data-path="class-outlines.html"><a href="class-outlines.html#week-12"><i class="fa fa-check"></i><b>A.12</b> Week 12</a></li>
<li class="chapter" data-level="A.13" data-path="class-outlines.html"><a href="class-outlines.html#week-13---no-class-for-project-work"><i class="fa fa-check"></i><b>A.13</b> Week 13 - no class for project work</a></li>
<li class="chapter" data-level="A.14" data-path="class-outlines.html"><a href="class-outlines.html#week-14---no-class-for-project-work"><i class="fa fa-check"></i><b>A.14</b> Week 14 - no class for project work</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BF591 - R for Biological Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="prog-basics" class="section level1" number="4">
<h1><span class="header-section-number">4</span> R Programming</h1>
<div id="before-you-begin" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Before you begin</h2>
<p>If you have not done so already, be sure to follow the <a href="preliminaries.html#prelim-r">R Language</a>,
<a href="preliminaries.html#prelim-rstudio">RStudio</a>, and <a href="preliminaries.html#prog-the-r-script">The R Script</a>, and <a href="preliminaries.html#prog-workflow">The
Scripting Workflow</a> sections before working through this
chapter. The guidance in these sections will set you up for success!</p>
</div>
<div id="introduction-1" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Introduction</h2>
<p>As with other subjects covered so far, the basic syntax of R is covered very
well in other free online materials. Some of those excellent resources are
linked at the end of this section, but a brief overview of the concepts and
syntax are covered here. The code examples below can be written into a script
and evaluated as described above or entered on the R Console directly and run by
pressing <code>Enter</code>.</p>
</div>
<div id="prog-r-syntax" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> R Syntax Basics</h2>
<p>At its core, R (like all programming languages) is basically a fancy calculator.
The syntax of most basic arithmetic operations in R should be familiar to you:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="prog-basics.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="co"># addition</span></span>
<span id="cb3-2"><a href="prog-basics.html#cb3-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb3-3"><a href="prog-basics.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">-</span> <span class="dv">2</span> <span class="co"># subtraction</span></span>
<span id="cb3-4"><a href="prog-basics.html#cb3-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb3-5"><a href="prog-basics.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">*</span> <span class="dv">2</span> <span class="co"># multiplication</span></span>
<span id="cb3-6"><a href="prog-basics.html#cb3-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">8</span></span>
<span id="cb3-7"><a href="prog-basics.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">/</span> <span class="dv">2</span> <span class="co"># division</span></span>
<span id="cb3-8"><a href="prog-basics.html#cb3-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb3-9"><a href="prog-basics.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fl">1.234</span> <span class="sc">+</span> <span class="fl">2.345</span> <span class="sc">-</span> <span class="fl">3.5</span><span class="sc">*</span><span class="fl">4.9</span> <span class="co"># numbers can have decimals</span></span>
<span id="cb3-10"><a href="prog-basics.html#cb3-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">13.571</span></span>
<span id="cb3-11"><a href="prog-basics.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fl">1.234</span> <span class="sc">+</span> (<span class="fl">2.345</span> <span class="sc">-</span> <span class="fl">3.5</span>)<span class="sc">*</span><span class="fl">4.9</span> <span class="co"># expressions can contain parentheses</span></span>
<span id="cb3-12"><a href="prog-basics.html#cb3-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">4.4255</span></span>
<span id="cb3-13"><a href="prog-basics.html#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">**</span><span class="dv">2</span> <span class="co"># exponentiation</span></span>
<span id="cb3-14"><a href="prog-basics.html#cb3-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span></span>
<span id="cb3-15"><a href="prog-basics.html#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">**</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>) <span class="co"># square root</span></span>
<span id="cb3-16"><a href="prog-basics.html#cb3-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb3-17"><a href="prog-basics.html#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span><span class="sc">**</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>) <span class="co"># cube root</span></span>
<span id="cb3-18"><a href="prog-basics.html#cb3-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span></code></pre></div>
<p>The <code>[1]</code> lines above are the output given by R when the preceding expression
is executed. Any portion of a line starting with a <code>#</code> is a comment and ignored
by R.</p>
<p>R also supports storing values into symbolic placeholders called <em>variables</em>, or
<em>objects</em>. An expression like those above can be assigned into a variable with a
name using the <code>&lt;-</code> operator:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="prog-basics.html#cb4-1" aria-hidden="true" tabindex="-1"></a>new_var <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<p>Variables that have been assigned a value can be placed in subsequent
expressions anywhere where their value is evaluated:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="prog-basics.html#cb5-1" aria-hidden="true" tabindex="-1"></a>new_var <span class="sc">-</span> <span class="dv">2</span></span>
<span id="cb5-2"><a href="prog-basics.html#cb5-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb5-3"><a href="prog-basics.html#cb5-3" aria-hidden="true" tabindex="-1"></a>another_var <span class="ot">&lt;-</span> new_var <span class="sc">*</span> <span class="dv">4</span></span></code></pre></div>
<div class="box note">
<p>The correct way to assign a value to a variable in R is with the <code>&lt;-</code> syntax,
unlike many other programming languages which use <code>=</code>. However, although the <code>=</code>
assignment syntax does work in R:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="prog-basics.html#cb6-1" aria-hidden="true" tabindex="-1"></a>new_var <span class="ot">=</span> <span class="dv">2</span> <span class="co"># works, but is not common convention!</span></span></code></pre></div>
<p>this is considered bad practice and may cause confusion later. You should always
use the <code>&lt;-</code> syntax when assigning values to variables!</p>
</div>
<div class="box note">
<p>In R, the period <code>.</code> does not have a special meaning like it does in many other
languages like python, C, javascript, etc. Therefore, <code>new.var</code> is a valid
variable name just like <code>new_var</code>, even though it may look strange to those
familiar with these other languages. While including <code>.</code> in your R variable
names is valid, the results that you will use in programs written in other
languages that do have a meaning for this character. Therefore, it is good
practice to avoid using <code>.</code> characters in your variable names to reduce the
chances of conflicts later.</p>
</div>
<div class="box readmore">
<ul>
<li><a href="https://rstudio-education.github.io/hopr/basics.html">Hands-On Programming with R</a></li>
<li><a href="https://r4ds.had.co.nz/workflow-basics.html">R for Data Science - Workflow basics</a></li>
</ul>
</div>
</div>
<div id="prog-types" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Basic Types of Values</h2>
<p>The most common type of value in R is the number, e.g. <code>1.0</code> or <code>1e-5</code> for
<span class="math inline">\(10^{-5}\)</span>. For most practical purposes, R does not distinguish between numbers
with fractional parts (e.g. <code>1.123</code>) and integers (e.g. <code>1</code>); a number is a
number. In addition to numbers, there are some other types of values that are
special in R:</p>
<ul>
<li><strong>logical or boolean values</strong> - <code>TRUE</code> or <code>FALSE</code>. Internally, R stores <code>TRUE</code>
as the number <code>1</code> and <code>FALSE</code> as the number <code>0</code>. Generally, R interprets
non-zero numbers as <code>TRUE</code> and <code>0</code> as <code>FALSE</code>, but it is good practice to supply
the tokens <code>TRUE</code> or <code>FALSE</code> when an argument expects a logical value.</li>
<li><strong>missing values</strong> - <code>NA</code>. <code>NA</code> is a special value that indicates a value is
missing.</li>
<li><strong>missing vectors</strong> - <code>NULL</code>. Similar to <code>NA</code>, <code>NULL</code> indicates that a vector,
rather than a value, is missing. Vectors will be described in the <a href="prog-struct">next section
on data strutures</a>.</li>
<li><strong>factors</strong> - Factors are a complex type used in statistical models and are
covered in <a href="#factors">greater detail later</a></li>
<li><strong>infinity</strong> - <code>Inf</code> and <code>-Inf</code>. These values encode what R understands to be
positive or negative infinity, or any number divided by <code>0</code>.</li>
<li><strong>impossible values</strong> - <code>NaN</code>. This value corresponds to the mathematically
‘impossible’ or undefined value of <code>0/0</code>.</li>
<li><strong>character data</strong> - <code>"value"</code>. R can store character data in the form of
strings. Note R does not interpret string values by default, so <code>"1"</code> and <code>1</code>
are distinct.</li>
<li><strong>dates and times</strong> - R has a basic type to store dates and times (together
termed a <em>datetime</em>, which includes both components). Internally, R stores
datetimes as the fractional number of days since January 1, 1970, using negative
numbers for earlier dates.</li>
<li><strong>complex numbers</strong> - R can store complex numbers using the <code>complex</code>
function.</li>
</ul>
<div class="box warning">
<p>Unsurprisingly, R cannot perform computations on <code>NA</code>, <code>NaN</code>, or <code>Inf</code> values.
Each of these values have an ‘infectious’ quality to them, where if they are
mixed in with other values, the result of the computation reverts to the first
of these values encountered:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="prog-basics.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this how to create a vector of 4 values in R</span></span>
<span id="cb7-2"><a href="prog-basics.html#cb7-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="cn">NA</span>)</span>
<span id="cb7-3"><a href="prog-basics.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x) <span class="co"># compute the mean of values that includes NA</span></span>
<span id="cb7-4"><a href="prog-basics.html#cb7-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span></span>
<span id="cb7-5"><a href="prog-basics.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x,<span class="at">na.rm=</span><span class="cn">TRUE</span>) <span class="co"># remove NA values prior to computing mean</span></span>
<span id="cb7-6"><a href="prog-basics.html#cb7-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb7-7"><a href="prog-basics.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="cn">NaN</span>))</span>
<span id="cb7-8"><a href="prog-basics.html#cb7-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NaN</span></span>
<span id="cb7-9"><a href="prog-basics.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NaN</span>,<span class="dv">1</span>))</span>
<span id="cb7-10"><a href="prog-basics.html#cb7-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span></span></code></pre></div>
<p>If your code produces values that are not numbers as you expect, this suggests
there are one of these values in your input, and need to be handled explicitly.</p>
</div>
<div class="box readmore">
<ul>
<li><a href="https://www.r-bloggers.com/2012/08/difference-between-na-and-nan-in-r/">The difference between NA and NaN in R</a></li>
<li><a href="https://r4ds.had.co.nz/vectors.html#dates-and-date-times">R for Data Science - Dates and date-times</a></li>
<li><a href="https://www.stat.berkeley.edu/~s133/dates.html">Dates and times in R</a></li>
<li><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/complex.html">Complex numbers in R</a></li>
</ul>
</div>
<div id="factors-." class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Factors .</h3>
<p>What is a factor in R? Why and how are they used? What is the difference between
a character vector and a factor vector? Why and how do we manipulate factors
(e.g. relevel)?</p>
</div>
</div>
<div id="prog-struct" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Data Structures</h2>
<div id="vectors" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Vectors</h3>
<p>Data structures in R (and other languages) are ways of storing and organizing
more than one value together. The most basic data structure in R is a one
dimensional sequence of values called a
<a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/vector">vector</a>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="prog-basics.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the c() function creates a vector</span></span>
<span id="cb8-2"><a href="prog-basics.html#cb8-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb8-3"><a href="prog-basics.html#cb8-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span></code></pre></div>
<p>The vector in R has a special property that all values contained in the vector
must have the same type, from the list <a href="prog-basics.html#prog-types">described above</a>. When
constructing a vector, R will <a href="https://rstudio-education.github.io/hopr/r-objects.html#coercion">coerce
values</a> to the
most general type if it encounters values of different types:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="prog-basics.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="st">&quot;3&quot;</span>)</span>
<span id="cb9-2"><a href="prog-basics.html#cb9-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1&quot;</span> <span class="st">&quot;2&quot;</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb9-3"><a href="prog-basics.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>)</span>
<span id="cb9-4"><a href="prog-basics.html#cb9-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">0</span></span>
<span id="cb9-5"><a href="prog-basics.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">NA</span>) <span class="co"># note missing values stay missing</span></span>
<span id="cb9-6"><a href="prog-basics.html#cb9-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="cn">NA</span></span>
<span id="cb9-7"><a href="prog-basics.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="dv">2</span>,<span class="cn">NA</span>,<span class="cn">NaN</span>) <span class="co"># NA stays, NaN is cast to a character type</span></span>
<span id="cb9-8"><a href="prog-basics.html#cb9-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1&quot;</span> <span class="st">&quot;2&quot;</span> <span class="cn">NA</span> <span class="st">&quot;NaN&quot;</span></span></code></pre></div>
<p>In addition to having a single type, vectors also have a length, which is
defined as the number of elements in the vector:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="prog-basics.html#cb10-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb10-2"><a href="prog-basics.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span>
<span id="cb10-3"><a href="prog-basics.html#cb10-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span></code></pre></div>
<p>Internally, R is much more efficient at operating on vectors than individual
elements separately. With numeric vectors, you can perform arithmetic operations
on vectors of compatible size just as easily as individual values:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="prog-basics.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb11-2"><a href="prog-basics.html#cb11-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span> <span class="dv">6</span></span>
<span id="cb11-3"><a href="prog-basics.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb11-4"><a href="prog-basics.html#cb11-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">8</span></span>
<span id="cb11-5"><a href="prog-basics.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co"># operating on vectors of different lengths raises warning, but still works</span></span>
<span id="cb11-6"><a href="prog-basics.html#cb11-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">8</span> <span class="dv">5</span></span>
<span id="cb11-7"><a href="prog-basics.html#cb11-7" aria-hidden="true" tabindex="-1"></a>Warning message<span class="sc">:</span></span>
<span id="cb11-8"><a href="prog-basics.html#cb11-8" aria-hidden="true" tabindex="-1"></a>In <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="sc">:</span></span>
<span id="cb11-9"><a href="prog-basics.html#cb11-9" aria-hidden="true" tabindex="-1"></a>  longer object length is not a multiple of shorter object length</span></code></pre></div>
<div class="box warning">
<p>In the example above, we multiplied a vector of length 2 with a vector of length
3:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="prog-basics.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co"># operating on vectors of different lengths raises warning, but still works</span></span>
<span id="cb12-2"><a href="prog-basics.html#cb12-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">8</span> <span class="dv">5</span></span>
<span id="cb12-3"><a href="prog-basics.html#cb12-3" aria-hidden="true" tabindex="-1"></a>Warning message<span class="sc">:</span></span>
<span id="cb12-4"><a href="prog-basics.html#cb12-4" aria-hidden="true" tabindex="-1"></a>In <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="sc">:</span></span>
<span id="cb12-5"><a href="prog-basics.html#cb12-5" aria-hidden="true" tabindex="-1"></a>  longer object length is not a multiple of shorter object length</span></code></pre></div>
<p>Rather than raise an error and aborting, R merely emits a warning message about
the vectors not having divisible lengths. So how did R decide the third value
should be 5? Because R cycles through each vector and multiplies the values
element-wise until the longest vector has had an operation performed on all its
values:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="prog-basics.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co"># yields: 1*3 2*4 1*5</span></span>
<span id="cb13-2"><a href="prog-basics.html#cb13-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">8</span> <span class="dv">5</span></span>
<span id="cb13-3"><a href="prog-basics.html#cb13-3" aria-hidden="true" tabindex="-1"></a>Warning message<span class="sc">:</span></span>
<span id="cb13-4"><a href="prog-basics.html#cb13-4" aria-hidden="true" tabindex="-1"></a>In <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="sc">:</span></span>
<span id="cb13-5"><a href="prog-basics.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  longer object length is not a multiple of shorter object length</span>
<span id="cb13-6"><a href="prog-basics.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>) <span class="co"># yields: 1*3 2*4 1*5 2*6</span></span>
<span id="cb13-7"><a href="prog-basics.html#cb13-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">8</span> <span class="dv">5</span> <span class="dv">12</span></span></code></pre></div>
<p>R will sometimes work in ways you don’t expect. Be careful to read warnings and
check that your code does what you expect!</p>
</div>
</div>
<div id="matrices" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Matrices</h3>
<p>A matrix in R is simply the 2 dimensional version of a vector. That is, it is
a rectangle of values that all have the same type, e.g. number, character,
logical, etc. A matrix may be constructed using the vector notation described
above and specifying the number of rows and columns the matrix should have, and
Instead of having a length like a vector, it has <span class="math inline">\(m \times n\)</span> dimensions:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="prog-basics.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a matrix with two rows and three columns containing integers</span></span>
<span id="cb14-2"><a href="prog-basics.html#cb14-2" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb14-3"><a href="prog-basics.html#cb14-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow=</span><span class="dv">1</span></span>
<span id="cb14-4"><a href="prog-basics.html#cb14-4" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-5"><a href="prog-basics.html#cb14-5" aria-hidden="true" tabindex="-1"></a>A</span>
<span id="cb14-6"><a href="prog-basics.html#cb14-6" aria-hidden="true" tabindex="-1"></a>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb14-7"><a href="prog-basics.html#cb14-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb14-8"><a href="prog-basics.html#cb14-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">4</span>    <span class="dv">5</span>    <span class="dv">6</span></span>
<span id="cb14-9"><a href="prog-basics.html#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(A) <span class="co"># the dim function prints out the dimensions of the matrix, rows first</span></span>
<span id="cb14-10"><a href="prog-basics.html#cb14-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span></span></code></pre></div>
<p>Because a matrix is 2 dimensional, it can be transposed from <span class="math inline">\(m \times n\)</span> to be
<span class="math inline">\(n \times m\)</span> using the <code>t()</code> function:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="prog-basics.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A defined above as a 2 x 3 matrix</span></span>
<span id="cb15-2"><a href="prog-basics.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(A)</span>
<span id="cb15-3"><a href="prog-basics.html#cb15-3" aria-hidden="true" tabindex="-1"></a>[,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb15-4"><a href="prog-basics.html#cb15-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">4</span></span>
<span id="cb15-5"><a href="prog-basics.html#cb15-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">2</span>    <span class="dv">5</span></span>
<span id="cb15-6"><a href="prog-basics.html#cb15-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,]    <span class="dv">3</span>    <span class="dv">6</span></span>
<span id="cb15-7"><a href="prog-basics.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(<span class="fu">t</span>(A))</span>
<span id="cb15-8"><a href="prog-basics.html#cb15-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">2</span></span></code></pre></div>
<div class="box readmore">
<p><a href="https://rstudio-education.github.io/hopr/r-objects.html#atomic-vectors">Hands-On Programming with R - Atomic Vectors</a>
<a href="https://r4ds.had.co.nz/vectors.html">R for Data Science - Vectors</a>
<a href="https://adv-r.hadley.nz/vectors-chap.html">Advanced R - Vectors</a></p>
</div>
</div>
<div id="lists-and-data-frames" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Lists and data frames</h3>
<p>Vectors and matrices have the special property that all items must be of the
same type, e.g. numbers. Lists and data frames are data structures that do not
have this requirement. Similar to vectors, lists and data frames are both one
dimensional sequences of values, but the values can be of mixed types. For
instance, the first item of a list may be a vector of numbers, while the second
is a vector of character strings. These are the most flexible data structures in
R, and are among the most commonly used.</p>
<p>Lists can be created using the <code>list()</code> function:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="prog-basics.html#cb16-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb16-2"><a href="prog-basics.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb16-3"><a href="prog-basics.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>)</span>
<span id="cb16-4"><a href="prog-basics.html#cb16-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-5"><a href="prog-basics.html#cb16-5" aria-hidden="true" tabindex="-1"></a>my_list</span>
<span id="cb16-6"><a href="prog-basics.html#cb16-6" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>]]</span>
<span id="cb16-7"><a href="prog-basics.html#cb16-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb16-8"><a href="prog-basics.html#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="prog-basics.html#cb16-9" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">2</span>]]</span>
<span id="cb16-10"><a href="prog-basics.html#cb16-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span> <span class="st">&quot;D&quot;</span></span>
<span id="cb16-11"><a href="prog-basics.html#cb16-11" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]] <span class="co"># access the first item of the list</span></span>
<span id="cb16-12"><a href="prog-basics.html#cb16-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb16-13"><a href="prog-basics.html#cb16-13" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">2</span>]] <span class="co"># access the second item of the list</span></span>
<span id="cb16-14"><a href="prog-basics.html#cb16-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span> <span class="st">&quot;D&quot;</span></span></code></pre></div>
<p>The arguments passed to <code>list()</code> define the values and their order of the list.
In the above example, the list has two elements: one vector of 3 numbers and one
vector of 4 character strings. Note you can access individual items of the list
using the <code>[[N]]</code> syntax, where <code>N</code> is the 1-based index of the element.</p>
<p>Lists can also be defined and indexed by name:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="prog-basics.html#cb17-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb17-2"><a href="prog-basics.html#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">numbers=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb17-3"><a href="prog-basics.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">categories=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>)</span>
<span id="cb17-4"><a href="prog-basics.html#cb17-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-5"><a href="prog-basics.html#cb17-5" aria-hidden="true" tabindex="-1"></a>my_list</span>
<span id="cb17-6"><a href="prog-basics.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>numbers</span>
<span id="cb17-7"><a href="prog-basics.html#cb17-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb17-8"><a href="prog-basics.html#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="prog-basics.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>categories</span>
<span id="cb17-10"><a href="prog-basics.html#cb17-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span> <span class="st">&quot;D&quot;</span></span>
<span id="cb17-11"><a href="prog-basics.html#cb17-11" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>numbers <span class="co"># access the first item of the list</span></span>
<span id="cb17-12"><a href="prog-basics.html#cb17-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb17-13"><a href="prog-basics.html#cb17-13" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>categories <span class="co"># access the second item of the list</span></span>
<span id="cb17-14"><a href="prog-basics.html#cb17-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span> <span class="st">&quot;D&quot;</span></span></code></pre></div>
<p>The elements of the list have been assigned the names <code>numbers</code> and <code>categories</code>
when creating the list, though any valid R identifier names can be used. When
elements are associated with names they can be accessed using the <code>list$name</code>
syntax.</p>
<p>Lists and data frames are the same underlying data structure, however differ in
one important respect: <em>the elements of a data frame must all have the same
length, while the elements of a list do not.</em> You may create a data frame with
the <code>data.frame()</code> function:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="prog-basics.html#cb18-1" aria-hidden="true" tabindex="-1"></a>my_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="co"># recall &#39;.&#39; has no special meaning in R</span></span>
<span id="cb18-2"><a href="prog-basics.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">numbers=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb18-3"><a href="prog-basics.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">categories=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>)</span>
<span id="cb18-4"><a href="prog-basics.html#cb18-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-5"><a href="prog-basics.html#cb18-5" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">data.frame</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>)) <span class="sc">:</span></span>
<span id="cb18-6"><a href="prog-basics.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  arguments imply differing number of rows<span class="sc">:</span> <span class="dv">3</span>, <span class="dv">4</span></span>
<span id="cb18-7"><a href="prog-basics.html#cb18-7" aria-hidden="true" tabindex="-1"></a>my_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb18-8"><a href="prog-basics.html#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">numbers=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb18-9"><a href="prog-basics.html#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">categories=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>)</span>
<span id="cb18-10"><a href="prog-basics.html#cb18-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-11"><a href="prog-basics.html#cb18-11" aria-hidden="true" tabindex="-1"></a>my_df</span>
<span id="cb18-12"><a href="prog-basics.html#cb18-12" aria-hidden="true" tabindex="-1"></a>  numbers categories</span>
<span id="cb18-13"><a href="prog-basics.html#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>       <span class="dv">1</span>          A</span>
<span id="cb18-14"><a href="prog-basics.html#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>       <span class="dv">2</span>          B</span>
<span id="cb18-15"><a href="prog-basics.html#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       <span class="dv">3</span>          C</span>
<span id="cb18-16"><a href="prog-basics.html#cb18-16" aria-hidden="true" tabindex="-1"></a>my_df<span class="sc">$</span>numbers</span>
<span id="cb18-17"><a href="prog-basics.html#cb18-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb18-18"><a href="prog-basics.html#cb18-18" aria-hidden="true" tabindex="-1"></a>my_df[<span class="dv">1</span>] <span class="co"># numeric indexing also works, and returns a subset data frame</span></span>
<span id="cb18-19"><a href="prog-basics.html#cb18-19" aria-hidden="true" tabindex="-1"></a>  numbers</span>
<span id="cb18-20"><a href="prog-basics.html#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>       <span class="dv">1</span></span>
<span id="cb18-21"><a href="prog-basics.html#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>       <span class="dv">2</span></span>
<span id="cb18-22"><a href="prog-basics.html#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       <span class="dv">3</span></span>
<span id="cb18-23"><a href="prog-basics.html#cb18-23" aria-hidden="true" tabindex="-1"></a>my_df[<span class="dv">1</span>]<span class="sc">$</span>numbers</span>
<span id="cb18-24"><a href="prog-basics.html#cb18-24" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb18-25"><a href="prog-basics.html#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="co"># this syntax is [&lt;row&gt;,&lt;column&gt;], and if either is omitted return all</span></span>
<span id="cb18-26"><a href="prog-basics.html#cb18-26" aria-hidden="true" tabindex="-1"></a>my_df[,<span class="dv">1</span>] <span class="co"># return all rows of the first column as a vector</span></span>
<span id="cb18-27"><a href="prog-basics.html#cb18-27" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb18-28"><a href="prog-basics.html#cb18-28" aria-hidden="true" tabindex="-1"></a>my_df<span class="sc">$</span>categories</span>
<span id="cb18-29"><a href="prog-basics.html#cb18-29" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span></span></code></pre></div>
<p>Note the data frame is printed as a matrix with element names as columns and
automatically numbered rows. You may access specific elements of a data frame in
a number of ways:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="prog-basics.html#cb19-1" aria-hidden="true" tabindex="-1"></a>my_df<span class="sc">$</span>numbers[<span class="dv">1</span>] <span class="co"># extract the first value of the numbers column</span></span>
<span id="cb19-2"><a href="prog-basics.html#cb19-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb19-3"><a href="prog-basics.html#cb19-3" aria-hidden="true" tabindex="-1"></a>my_df[<span class="dv">1</span>,<span class="dv">1</span>] <span class="co"># same as above, recall the [&lt;row&gt;,&lt;column&gt;] syntax</span></span>
<span id="cb19-4"><a href="prog-basics.html#cb19-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb19-5"><a href="prog-basics.html#cb19-5" aria-hidden="true" tabindex="-1"></a>my_df<span class="sc">$</span>categories[<span class="dv">3</span>] <span class="co"># extract the third value of the categories column</span></span>
<span id="cb19-6"><a href="prog-basics.html#cb19-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;C&quot;</span></span></code></pre></div>
<div class="box note">
<p>In the examples above, the operation of extracting out different parts of a
vector, matrix, list, or data frame is called <em>subsetting.</em> R provides many
different ways to subset a data structure and discussing all of them is beyond
the scope of this book. However, mastering subsetting will help your code be
more concise and correct. See the Read More link on Subsetting below:</p>
<p><a href="https://adv-r.hadley.nz/subsetting.html">Advanced R - Subsetting</a></p>
</div>
<div class="box readmore">
<p><a href="http://adv-r.had.co.nz/Data-structures.html">Advanced R - Data Structures</a>
<a href="https://adv-r.hadley.nz/subsetting.html">Advanced R - Subsetting</a></p>
</div>
</div>
</div>
<div id="logical-tests-and-comparators" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Logical Tests and Comparators</h2>
<p>As mentioned above, R recognizes logical values as a distinct type. R provides
all the conventional infix logical operators:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="prog-basics.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span> <span class="co"># equality</span></span>
<span id="cb20-2"><a href="prog-basics.html#cb20-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb20-3"><a href="prog-basics.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">!=</span> <span class="dv">1</span> <span class="co"># inequality</span></span>
<span id="cb20-4"><a href="prog-basics.html#cb20-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span></span>
<span id="cb20-5"><a href="prog-basics.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&lt;</span> <span class="dv">2</span> <span class="co"># less than</span></span>
<span id="cb20-6"><a href="prog-basics.html#cb20-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb20-7"><a href="prog-basics.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&gt;</span> <span class="dv">2</span> <span class="co"># greater than</span></span>
<span id="cb20-8"><a href="prog-basics.html#cb20-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span></span>
<span id="cb20-9"><a href="prog-basics.html#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&lt;=</span> <span class="dv">2</span> <span class="co"># less than or equal to</span></span>
<span id="cb20-10"><a href="prog-basics.html#cb20-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb20-11"><a href="prog-basics.html#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="co"># greater than or equal to</span></span></code></pre></div>
<p>These operators also work on vectors, albeit with the same caveats about vector
length as noted earlier:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="prog-basics.html#cb21-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb21-2"><a href="prog-basics.html#cb21-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb21-3"><a href="prog-basics.html#cb21-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb21-4"><a href="prog-basics.html#cb21-4" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">1</span></span>
<span id="cb21-5"><a href="prog-basics.html#cb21-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb21-6"><a href="prog-basics.html#cb21-6" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">3</span></span>
<span id="cb21-7"><a href="prog-basics.html#cb21-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb21-8"><a href="prog-basics.html#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)</span>
<span id="cb21-9"><a href="prog-basics.html#cb21-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb21-10"><a href="prog-basics.html#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">!=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)</span>
<span id="cb21-11"><a href="prog-basics.html#cb21-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb21-12"><a href="prog-basics.html#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb21-13"><a href="prog-basics.html#cb21-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb21-14"><a href="prog-basics.html#cb21-14" aria-hidden="true" tabindex="-1"></a>Warning message<span class="sc">:</span></span>
<span id="cb21-15"><a href="prog-basics.html#cb21-15" aria-hidden="true" tabindex="-1"></a>In <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">:</span></span>
<span id="cb21-16"><a href="prog-basics.html#cb21-16" aria-hidden="true" tabindex="-1"></a>  longer object length is not a multiple of shorter object length</span></code></pre></div>
<p>R also provides many functions of the form <code>is.X</code> where <code>X</code> is some type or
condition (recall that <code>.</code> is not a special character in R):</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="prog-basics.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="dv">1</span>) <span class="co"># is the argument numeric?</span></span>
<span id="cb22-2"><a href="prog-basics.html#cb22-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb22-3"><a href="prog-basics.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="dv">1</span>) <span class="co"># is the argument a string?</span></span>
<span id="cb22-4"><a href="prog-basics.html#cb22-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span></span>
<span id="cb22-5"><a href="prog-basics.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="st">&quot;ABC&quot;</span>)</span>
<span id="cb22-6"><a href="prog-basics.html#cb22-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb22-7"><a href="prog-basics.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)) <span class="co"># recall a vector has exactly one type</span></span>
<span id="cb22-8"><a href="prog-basics.html#cb22-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb22-9"><a href="prog-basics.html#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="st">&quot;3&quot;</span>))</span>
<span id="cb22-10"><a href="prog-basics.html#cb22-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span></span>
<span id="cb22-11"><a href="prog-basics.html#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">NA</span>))</span>
<span id="cb22-12"><a href="prog-basics.html#cb22-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span></code></pre></div>
<div class="box readmore">
<p><a href="https://www.statmethods.net/management/operators.html">Quick-R - Operators</a></p>
</div>
</div>
<div id="functions" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Functions</h2>
<p>Just as a variable is a symbolic representation of a value, a function is a
symbolic representation of code. In other words, a function allows you to
substitute a short name, e.g. <code>mean</code>, for a set of operations on a given input,
e.g. the sum of a set of numbers divided by the number of numbers. R provides a
<a href="https://rdrr.io/r/">very large number of functions</a> for common operations in
its default environment, and more functions are provided by packages you can
install separately.</p>
<p>Encapsulating many lines of code into a function is useful for (at least) five
distinct reasons:</p>
<ol style="list-style-type: decimal">
<li>Make your code more concise and readable</li>
<li>Allow you to avoid writing the same code over and over (i.e. reuse it)</li>
<li>Allow you to systematically test pieces of your code to make sure they do
what you intend</li>
<li>Allow you to share your code easily with others</li>
<li>Program using a functional programming style (see note box below)</li>
</ol>
<div class="box note">
<p>At its core, R is a <em>functional programming language.</em> The details of what this
means are outside the scope of this book, but as the name implies this refers to
the language being structured around the use of functions. While this property
has technical implications on the structure of the language, a more important
consequence is the style of programming it entails. The functional programming
style (or <em>paradigm</em>) has many advantages, including generally producing
programs that are more concise, predictable, provably correct, and performant.
provides a good starting point for learning about functional programming.</p>
</div>
<p>In order to do anything useful, a function must generally be able to accept
and execute on different inputs; e.g. the <code>mean</code> function wouldn’t be very
useful if it didn’t accept a value! The terminology used in R and many other
programming languages for this is the function must <em>accept</em> or allow you to
<em>pass it arguments.</em> In R, functions accept arguments using the following
*pattern:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="prog-basics.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a basic function signature</span></span>
<span id="cb23-2"><a href="prog-basics.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">function_name</span>(arg1, arg2) <span class="co"># function accepts exactly 2 arguments</span></span></code></pre></div>
<p>Here, <code>arg1</code> and <code>arg2</code> are <em>formal arguments</em> or <em>named arguments</em>, indicating
this function accepts two arguments. The name of the function (i.e.
<code>function_name</code>) and the pattern of arguments it accepts is called the
function’s <em>signature.</em> Every function has at least one signature, and it is
critical to understand it in order to use the function properly.</p>
<p>In the above example, <code>arg1</code> and <code>arg2</code> are <em>required</em> arguments. This means
that the function will not execute without exactly two arguments provided and
will raise an error if you try otherwise:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="prog-basics.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>() <span class="co"># compute the arithmetic mean, but of what?</span></span>
<span id="cb24-2"><a href="prog-basics.html#cb24-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">mean.default</span>() <span class="sc">:</span> argument <span class="st">&quot;x&quot;</span> is missing, with no default</span></code></pre></div>
<p>How do you know what arguments a function requires? All functions provided by
base R and many other packages include detailed documentation that can be
accessed directly through RStudio using either the <code>?</code> or <code>help()</code>:</p>
<div class="figure">
<img src="rstudio_help_fn_sigs.png" alt="" />
<p class="caption">RStudio - help and function signatures</p>
</div>
<p>The second signature of the <code>mean</code> function introduces two new types of syntax:</p>
<p><strong>Default argument values</strong> - e.g. <code>trim = 0</code>. These are formal arguments that
have a default value if not provided explicitly.</p>
<p><strong>Variable arguments</strong> - <code>...</code>. This means the <code>mean</code> function can accept
arguments that are not explicitly listed in the signature.</p>
<p>With these definitions, we can now understand the Arguments section of the help
documentation:</p>
<div class="figure">
<img src="rstudio_mean_fn_args.png" alt="" />
<p class="caption">Arguments to the mean function</p>
</div>
<p>In other words:</p>
<ul>
<li><code>x</code> is the vector of values (more on this in the <a href="prog-struct">next section on data
structures</a>) we wish to compute the arithmetic mean for</li>
<li><code>trim</code> is a fraction (i.e. a number between 0 and 0.5) that instructs R to
remove a portion of the largest and smallest values from <code>x</code> prior to computing
the mean.</li>
<li><code>na.rm</code> is a logical value (i.e. either <code>TRUE</code> or <code>FALSE</code>) that instructs R to
remove <code>NA</code> values from <code>x</code> before computing the mean.</li>
</ul>
<div class="box note">
<p>All function arguments can be specified by name, regardless of whether there is
a default value or not. For instance, the following two <code>mean</code> calls are
equivalent:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="prog-basics.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this generates 100 normally distributed samples with mean 0 and standard deviation 1</span></span>
<span id="cb25-2"><a href="prog-basics.html#cb25-2" aria-hidden="true" tabindex="-1"></a>my_vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">0</span>,<span class="at">sd=</span><span class="dv">1</span>)</span>
<span id="cb25-3"><a href="prog-basics.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(my_vals)</span>
<span id="cb25-4"><a href="prog-basics.html#cb25-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.05826857</span></span>
<span id="cb25-5"><a href="prog-basics.html#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="at">x=</span>my_vals)</span>
<span id="cb25-6"><a href="prog-basics.html#cb25-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.05826857</span></span></code></pre></div>
<p>To borrow from <a href="https://www.python.org/dev/peps/pep-0020/#id2">the Zen of
Python</a>, “Explicit is better than
implicit.” Being explicit about which variables are being passed as which
arguments will almost always make your code easier to read and more likely to do
what you intend.</p>
</div>
<div class="box warning">
<p><strong>The <code>...</code> argument catchall can be very dangerous.</strong> It allows you to provide
arguments to a function that have no meaning, and R will not raise an error.
Consider the following call to <code>mean</code>:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="prog-basics.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this generates 100 normally distributed samples with mean 0 and standard deviation 1</span></span>
<span id="cb26-2"><a href="prog-basics.html#cb26-2" aria-hidden="true" tabindex="-1"></a>my_vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">0</span>,<span class="at">sd=</span><span class="dv">1</span>)</span>
<span id="cb26-3"><a href="prog-basics.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="at">x=</span>my_vals,<span class="at">tirm=</span><span class="fl">0.1</span>)</span>
<span id="cb26-4"><a href="prog-basics.html#cb26-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.05826857</span></span></code></pre></div>
<p>Did you spot the mistake? The <code>trim</code> argument name has been misspelled as
<code>tirm</code>, but R did not report an error. Compare the value of mean without the
typo:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="prog-basics.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="at">x=</span>my_vals,<span class="at">trim=</span><span class="fl">0.1</span>)</span>
<span id="cb27-2"><a href="prog-basics.html#cb27-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]<span class="sc">-</span><span class="fl">0.02139839</span></span></code></pre></div>
<p>The value we get is different, because R recognizes <code>trim</code> but not <code>tirm</code> and
changes its behavior accordingly. Not all functions have the <code>...</code> catchall in
their signatures, but many do and so you must be diligent when supplying
arguments to function calls!</p>
</div>
<div class="box readmore">
<ul>
<li><a href="https://r4ds.had.co.nz/functions.html">R for Data Science - Functions</a></li>
<li><a href="https://rdrr.io/r/">rdrr.io - Base R Function Reference</a></li>
<li><a href="https://www.tutorialspoint.com/functional_programming/index.htm">This tutorial</a></li>
<li><a href="https://adv-r.hadley.nz/fp.html">Advanced R - Functional Programming</a></li>
</ul>
</div>
<div id="prog-dry" class="section level3" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> DRY: Don’t Repeat Yourself</h3>
<p>Sometimes you will find yourself writing the same code more than once to perform
the same operation on different data. For example, one common data
transformation is <em>standardization</em> or <em>normalization</em> which entails taking a
series of numbers, subtracting the mean of all the numbers from them, and
dividing each by the standard deviation of the numbers:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="prog-basics.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 100 normally distributed samples with mean 20 and standard deviation 10</span></span>
<span id="cb28-2"><a href="prog-basics.html#cb28-2" aria-hidden="true" tabindex="-1"></a>my_vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">20</span>,<span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb28-3"><a href="prog-basics.html#cb28-3" aria-hidden="true" tabindex="-1"></a>my_vals_norm <span class="ot">&lt;-</span> (my_vals <span class="sc">-</span> <span class="fu">mean</span>(my_vals))<span class="sc">/</span><span class="fu">sd</span>(my_vals)</span>
<span id="cb28-4"><a href="prog-basics.html#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(my_vals_norm)</span>
<span id="cb28-5"><a href="prog-basics.html#cb28-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb28-6"><a href="prog-basics.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(my_vals_norm)</span>
<span id="cb28-7"><a href="prog-basics.html#cb28-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>Later in your code, you may need to standardize a different set of values, so
you decide to copy and paste your code from above and replace the variable name
to reflect the new data:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="prog-basics.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># new samples with mean 40 and standard deviation 5</span></span>
<span id="cb29-2"><a href="prog-basics.html#cb29-2" aria-hidden="true" tabindex="-1"></a>my_other_vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">40</span>,<span class="at">sd=</span><span class="dv">5</span>)</span>
<span id="cb29-3"><a href="prog-basics.html#cb29-3" aria-hidden="true" tabindex="-1"></a>my_other_vals_norm <span class="ot">&lt;-</span> (my_other_vals <span class="sc">-</span> <span class="fu">mean</span>(my_other_vals))<span class="sc">/</span><span class="fu">sd</span>(my_vals)</span>
<span id="cb29-4"><a href="prog-basics.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(my_other_vals_norm)</span>
<span id="cb29-5"><a href="prog-basics.html#cb29-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb29-6"><a href="prog-basics.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(my_other_vals_norm) <span class="co"># this should be 1!</span></span>
<span id="cb29-7"><a href="prog-basics.html#cb29-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.52351</span></span></code></pre></div>
<p>Notice the mistake? We forgot to change the variable name <code>my_vals</code> to
<code>my_other_vals</code> in our pasted code, which produced an incorrect result. Good
thing we checked!</p>
<p>In general, if you are copying and pasting code from one part of your script to
another, you are repeating yourself and have to do a lot of work to be sure you
have modified your copy correctly. Copying and pasting code is tempting from an
efficiency standpoint, but introduces may opportunities for (often undetected!)
errors.</p>
<p><a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">Don’t Repeat Yourself</a>
(DRY) is a principle of software development that emphasizes recognizing and
avoiding writing the same code over and over by encapsulating code. In R, this
is most easily done with functions. If you notice yourself copying and pasting
code, or writing the same pattern of code more than once, this is an excellent
opportunity to write your own function and avoid repeating yourself!</p>
</div>
<div id="writing-your-own-functions" class="section level3" number="4.7.2">
<h3><span class="header-section-number">4.7.2</span> Writing your own functions</h3>
<p>R allows you to define your own function using the following syntax:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="prog-basics.html#cb30-1" aria-hidden="true" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb30-2"><a href="prog-basics.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># code that does something with arg1, arg2, etc</span></span>
<span id="cb30-3"><a href="prog-basics.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(some_result)</span>
<span id="cb30-4"><a href="prog-basics.html#cb30-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>You define the name of your function, the number of arguments it accepts and
their names, and the code within the function, which is also called the function
<em>body</em>. Taking the example above, I would define a function named <code>standardize</code>
<em>that accepts a vector of numbers, subtracts the mean from all the values, and
</em>divides them by the standard deviation:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="prog-basics.html#cb31-1" aria-hidden="true" tabindex="-1"></a>standardize <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb31-2"><a href="prog-basics.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> (x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">/</span><span class="fu">sd</span>(x)</span>
<span id="cb31-3"><a href="prog-basics.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(res)</span>
<span id="cb31-4"><a href="prog-basics.html#cb31-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-5"><a href="prog-basics.html#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="prog-basics.html#cb31-6" aria-hidden="true" tabindex="-1"></a>my_vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">20</span>,<span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb31-7"><a href="prog-basics.html#cb31-7" aria-hidden="true" tabindex="-1"></a>my_vals_std <span class="ot">&lt;-</span> <span class="fu">standardize</span>(my_vals)</span>
<span id="cb31-8"><a href="prog-basics.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(my_vals_std)</span>
<span id="cb31-9"><a href="prog-basics.html#cb31-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb31-10"><a href="prog-basics.html#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(my_vals_std)</span>
<span id="cb31-11"><a href="prog-basics.html#cb31-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb31-12"><a href="prog-basics.html#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="prog-basics.html#cb31-13" aria-hidden="true" tabindex="-1"></a>my_other_vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">40</span>,<span class="at">sd=</span><span class="dv">5</span>)</span>
<span id="cb31-14"><a href="prog-basics.html#cb31-14" aria-hidden="true" tabindex="-1"></a>my_other_vals_std <span class="ot">&lt;-</span> <span class="fu">standardize</span>(my_other_vals)</span>
<span id="cb31-15"><a href="prog-basics.html#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(my_other_vals_std)</span>
<span id="cb31-16"><a href="prog-basics.html#cb31-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb31-17"><a href="prog-basics.html#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(my_other_vals_std)</span>
<span id="cb31-18"><a href="prog-basics.html#cb31-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>Notice above we are assigning the value of the <code>standardize</code> function to new
variables. In R and other languages, the result of a function is <em>returned</em> when
the function is called; the value returned is called the <em>return value</em>. The
<code>return()</code> function makes it clear what the function is returning.</p>
<div class="box note">
<p>The <code>return()</code> function is not strictly necessary in R; the result of the last
line of code in the body of a function is returned by default. However, to again
to borrow from <a href="https://www.python.org/dev/peps/pep-0020/#id2">the Zen of
Python</a>, “Explicit is better than
implicit.” Being explicit about what a function returns by using the <code>return()</code>
function will make your code less error prone and easier to understand.</p>
</div>
</div>
<div id="scope" class="section level3" number="4.7.3">
<h3><span class="header-section-number">4.7.3</span> Scope</h3>
<p>In programming, there is a critically important concept called <em>scope</em>. Every
variable and function you define when you program has a scope, which defines
where in the rest of your code the variable can be accessed. In R, variables
defined outside of a function have <em>universal</em> or <em>top level scope</em>, i.e. they
can be accessed from anywhere in your script. However, variables defined
<em>inside</em> functions can only be accessed from within that function. For example:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="prog-basics.html#cb32-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb32-2"><a href="prog-basics.html#cb32-2" aria-hidden="true" tabindex="-1"></a>multiply_x_by_two <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb32-3"><a href="prog-basics.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> x<span class="sc">*</span><span class="dv">2</span> <span class="co"># x is not defined as a parameter to the function, but is defined outside the function</span></span>
<span id="cb32-4"><a href="prog-basics.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(y)</span>
<span id="cb32-5"><a href="prog-basics.html#cb32-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-6"><a href="prog-basics.html#cb32-6" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb32-7"><a href="prog-basics.html#cb32-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb32-8"><a href="prog-basics.html#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="fu">multiply_x_by_two</span>()</span>
<span id="cb32-9"><a href="prog-basics.html#cb32-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">6</span></span>
<span id="cb32-10"><a href="prog-basics.html#cb32-10" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb32-11"><a href="prog-basics.html#cb32-11" aria-hidden="true" tabindex="-1"></a>Error<span class="sc">:</span> object <span class="st">&#39;y&#39;</span> not found</span></code></pre></div>
<p>Notice that the variable <code>x</code> is accessible within the function
<code>multiply_x_by_two</code>, but the variable <code>y</code> is <em>not</em> accessible outside that
function. The reason that <code>x</code> is accessible within the function is that
<code>multiply_x_by_two</code> <em>inherits the scope where it is defined</em>, which in this case
is the top level scope of your script, which includes <code>x</code>. The scope of <code>y</code> is
limited to the body of the function between the <code>{</code> <code>}</code> curly braces defining
the function.</p>
<p><strong>Accessing variables within functions from outside the function’s scope is very
bad practice!</strong> Functions should be as self contained as possible, and any
values they need should be passed as parameters. A better way to write the
function above would be as follows:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="prog-basics.html#cb33-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb33-2"><a href="prog-basics.html#cb33-2" aria-hidden="true" tabindex="-1"></a>multiply_by_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb33-3"><a href="prog-basics.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> x<span class="sc">*</span><span class="dv">2</span> <span class="co"># x here is defined as whatever is passed to the function!</span></span>
<span id="cb33-4"><a href="prog-basics.html#cb33-4" aria-hidden="true" tabindex="-1"></a>  y</span>
<span id="cb33-5"><a href="prog-basics.html#cb33-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-6"><a href="prog-basics.html#cb33-6" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb33-7"><a href="prog-basics.html#cb33-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb33-8"><a href="prog-basics.html#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="fu">multiply_by_two</span>(<span class="dv">6</span>)</span>
<span id="cb33-9"><a href="prog-basics.html#cb33-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span></span>
<span id="cb33-10"><a href="prog-basics.html#cb33-10" aria-hidden="true" tabindex="-1"></a>x <span class="co"># the value of x in the outer scope remains the same, because the function scope does not modify it</span></span>
<span id="cb33-11"><a href="prog-basics.html#cb33-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span></code></pre></div>
<p>Every variable and function you define is subject to the same scope rules above.
Scope is a critical concept to understand when programming, and grasping how it
works will make your code more predictable and less error prone.</p>
<div class="box readmore">
<p><a href="https://www.geeksforgeeks.org/scope-of-variable-in-r/">Scope in R</a></p>
</div>
</div>
</div>
<div id="iteration" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Iteration</h2>
<p>In programming, iteration refers to stepping sequentially through a set or
collection of objects, be it a vector of numbers, the columns of a matrix, etc.
In non-functional languages like python, C, etc. there are particular <em>control
structures</em> that implement iteration, commonly called <em>loops</em>. If you have
worked with these languages, you may be familiar with <em>for</em> and <em>while</em> loops,
which are some of these iteration control structures. However, R was designed to
execute iteration in a different way than these other languages, and provides
two forms of iteration: vectorized operations, and functional programming with
<code>apply()</code>.</p>
<div class="box warning">
<p>Note that R does have <code>for</code> and <code>while</code> loop support in the language. However,
these loop structures often have poor performance, and should generally be
avoided in favor of the functional style of iteration described below.</p>
<p><a href="https://www.r-bloggers.com/2018/09/how-to-avoid-for-loop-in-r/">How To Avoid For Loops in R</a></p>
<p>If you really, really want to learn how to use for loops in R, read this, but
don’t say I didn’t warn you when your code slows to a crawl for unknown reasons:</p>
<p><a href="https://r4ds.had.co.nz/iteration.html#for-loops">R for Data Science - for loops</a></p>
</div>
<div id="vectorized-operations" class="section level3" number="4.8.1">
<h3><span class="header-section-number">4.8.1</span> Vectorized operations</h3>
<p>The simplest form of iteration in R comes in vectorized computation. This sounds
fancy, but it just means R intrinsically knows how to perform many operations on
vectors and matrices as well as individual values. We have already seen examples
of this above when performing arithmetic operations on vectors:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="prog-basics.html#cb34-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb34-2"><a href="prog-basics.html#cb34-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">3</span> <span class="co"># add 3 to every element of vector x</span></span>
<span id="cb34-3"><a href="prog-basics.html#cb34-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span></span>
<span id="cb34-4"><a href="prog-basics.html#cb34-4" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> x <span class="co"># elementwise multiplication, 1*1 2*2 etc</span></span>
<span id="cb34-5"><a href="prog-basics.html#cb34-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">4</span> <span class="dv">9</span> <span class="dv">16</span> <span class="dv">25</span></span>
<span id="cb34-6"><a href="prog-basics.html#cb34-6" aria-hidden="true" tabindex="-1"></a>x_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>),<span class="at">nrow=</span><span class="dv">2</span>,<span class="at">ncol=</span><span class="dv">3</span>)</span>
<span id="cb34-7"><a href="prog-basics.html#cb34-7" aria-hidden="true" tabindex="-1"></a>x_mat <span class="sc">+</span> <span class="dv">3</span> <span class="co"># add 3 to every element of matrix x_mat</span></span>
<span id="cb34-8"><a href="prog-basics.html#cb34-8" aria-hidden="true" tabindex="-1"></a>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb34-9"><a href="prog-basics.html#cb34-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">4</span>    <span class="dv">6</span>    <span class="dv">8</span></span>
<span id="cb34-10"><a href="prog-basics.html#cb34-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">5</span>    <span class="dv">7</span>    <span class="dv">9</span></span>
<span id="cb34-11"><a href="prog-basics.html#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co"># the * operator always means element-wise</span></span>
<span id="cb34-12"><a href="prog-basics.html#cb34-12" aria-hidden="true" tabindex="-1"></a>x_mat <span class="sc">*</span> x_mat</span>
<span id="cb34-13"><a href="prog-basics.html#cb34-13" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb34-14"><a href="prog-basics.html#cb34-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">9</span>   <span class="dv">25</span></span>
<span id="cb34-15"><a href="prog-basics.html#cb34-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">4</span>   <span class="dv">16</span>   <span class="dv">36</span></span></code></pre></div>
<p>In addition to simple arithmetic operations, R also has syntax for
vector-vector, matrix-vector, and matrix-matrix operations, like matrix
multiplication and dot products:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="prog-basics.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the %*% operator stands for matrix multiplication</span></span>
<span id="cb35-2"><a href="prog-basics.html#cb35-2" aria-hidden="true" tabindex="-1"></a>x_mat <span class="sc">%*%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># [ 2x3 ] * [ 3 ]</span></span>
<span id="cb35-3"><a href="prog-basics.html#cb35-3" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>]</span>
<span id="cb35-4"><a href="prog-basics.html#cb35-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]   <span class="dv">22</span></span>
<span id="cb35-5"><a href="prog-basics.html#cb35-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]   <span class="dv">28</span></span>
<span id="cb35-6"><a href="prog-basics.html#cb35-6" aria-hidden="true" tabindex="-1"></a>x_mat <span class="sc">%*%</span> <span class="fu">t</span>(x_mat) <span class="co"># recall t() is the transpose function, making [ 2x3 ] * [ 3x2 ]</span></span>
<span id="cb35-7"><a href="prog-basics.html#cb35-7" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb35-8"><a href="prog-basics.html#cb35-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]   <span class="dv">35</span>   <span class="dv">44</span></span>
<span id="cb35-9"><a href="prog-basics.html#cb35-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]   <span class="dv">44</span>   <span class="dv">56</span></span></code></pre></div>
<p>These forms of implicit iteration are very powerful, and the R program has been
highly optimized to perform these operations very quickly. If you can cast your
iteration into a vector or matrix multiplication, it is a good idea to do so.
For other more complex or custom iteration, we must first talk briefly about
functional programming.</p>
</div>
<div id="functional-programming" class="section level3" number="4.8.2">
<h3><span class="header-section-number">4.8.2</span> Functional programming</h3>
<p>R is a functional programming language at its core, which means it is designed
around the use of functions. In the previous section, we saw that functions are
defined and assigned to names just like variables. This means that functions can
be passed to other functions just like variables! Consider the following
example.</p>
<p>Let’s consider a general formulation of vector transformation:</p>
<p><span class="math display">\[
\bar{\mathbf{x}} = \frac{\mathbf{x} - t_r(\mathbf{x})}{s(\mathbf{x})}
\]</span></p>
<p>Here, <span class="math inline">\(\mathbf{x}\)</span> is a vector of real numbers, and <span class="math inline">\(\bar{\mathbf{x}}\)</span> is
defined as a vector of the same length where each value has had some average
or central value <span class="math inline">\(t_r(\mathbf{x})\)</span> subtracted from it, and is divided by a scaling
factor <span class="math inline">\(s(\mathbf{x})\)</span> to control the range of resulting values. Both
<span class="math inline">\(t_r(\mathbf{x})\)</span> and <span class="math inline">\(s(\mathbf{x})\)</span> are scalars (i.e. individual numbers) and
dependent upon the values of <span class="math inline">\(\mathbf{x}\)</span>. If <span class="math inline">\(t_r\)</span> is arithmetic mean and <span class="math inline">\(s\)</span> is
standard deviation, we have defined the standardization transformation mentioned
in earlier examples:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="prog-basics.html#cb36-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">mean=</span><span class="dv">20</span>, <span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb36-2"><a href="prog-basics.html#cb36-2" aria-hidden="true" tabindex="-1"></a>x_zscore <span class="ot">&lt;-</span> (x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">/</span><span class="fu">sd</span>(x)</span></code></pre></div>
<p>However, there are many different ways to define the central value of a set of
numbers:</p>
<ul>
<li>arithmetic mean</li>
<li><a href="https://en.wikipedia.org/wiki/Geometric_mean">geometric mean</a></li>
<li>median</li>
<li>mode</li>
<li><a href="https://en.wikipedia.org/wiki/Mean#Other_means">and many more</a></li>
</ul>
<p>Each of these central value methods accepts a vector of numbers, but their
behaviors are different, and are appropriate in different situations. Likewise,
there are many possible scaling strategies we might consider:</p>
<ul>
<li>standard deviation</li>
<li>rescaling factor (e.g. set data range to be between -1 and 1)</li>
<li>scaling to unit length (all values sum to 1)</li>
<li><a href="https://en.wikipedia.org/wiki/Feature_scaling">and others</a></li>
</ul>
<p>We may wish to explore these different methods without writing entirely new code
for each combination when trying out different transformation techniques.</p>
<p>In R and other functional languages, we can easily accomplish this by <em>passing
functions as arguments to other functions</em>. Consider the following R function:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="prog-basics.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># note R already has a built in function named &quot;transform&quot;</span></span>
<span id="cb37-2"><a href="prog-basics.html#cb37-2" aria-hidden="true" tabindex="-1"></a>my_transform <span class="ot">&lt;-</span> <span class="cf">function</span>(x, t_r, s) {</span>
<span id="cb37-3"><a href="prog-basics.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>((x <span class="sc">-</span> <span class="fu">t_r</span>(x))<span class="sc">/</span><span class="fu">s</span>(x))</span>
<span id="cb37-4"><a href="prog-basics.html#cb37-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>This should look familiar to the equation presented earlier, except now in code
the arguments <code>t_r</code> and <code>s</code> are passed as arguments. If we wished to transform
using a <a href="https://en.wikipedia.org/wiki/Standard_score">Z-score normalization</a>,
we could call <code>my_transform</code> as follows:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="prog-basics.html#cb38-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">20</span>,<span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb38-2"><a href="prog-basics.html#cb38-2" aria-hidden="true" tabindex="-1"></a>x_zscore <span class="ot">&lt;-</span> <span class="fu">my_transform</span>(x, mean, sd)</span>
<span id="cb38-3"><a href="prog-basics.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x_zscore)</span>
<span id="cb38-4"><a href="prog-basics.html#cb38-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb38-5"><a href="prog-basics.html#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x_zscore)</span>
<span id="cb38-6"><a href="prog-basics.html#cb38-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>In the <code>my_transform</code> function call, the second and third arguments are the
names of the <code>mean</code> and <code>sd</code> functions, respectively. In the definition of
<code>my_transform</code> we use the syntax <code>t_r(x)</code> and <code>s(x)</code> to indicate that these
arguments should be treated as functions. Using this strategy, we could just as
easily define a transformation using <code>median</code> and <code>sum</code> for <code>t_r</code> and <code>s</code> if we
wished to:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="prog-basics.html#cb39-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">20</span>,<span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb39-2"><a href="prog-basics.html#cb39-2" aria-hidden="true" tabindex="-1"></a>x_transform <span class="ot">&lt;-</span> <span class="fu">my_transform</span>(x, median, sum)</span>
<span id="cb39-3"><a href="prog-basics.html#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(x_transform)</span>
<span id="cb39-4"><a href="prog-basics.html#cb39-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb39-5"><a href="prog-basics.html#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x_transform) <span class="co"># this quantity does not have an a priori known value (or meaning for that matter, it&#39;s just an example)</span></span>
<span id="cb39-6"><a href="prog-basics.html#cb39-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.013</span></span></code></pre></div>
<p>We can also write our own functions and pass them to get the <code>my_transform</code>
function to have desired behavior. The following scales the values of <code>x</code> to
have a range of <span class="math inline">\([0,1]\)</span>:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="prog-basics.html#cb40-1" aria-hidden="true" tabindex="-1"></a>data_range <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb40-2"><a href="prog-basics.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x))</span>
<span id="cb40-3"><a href="prog-basics.html#cb40-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-4"><a href="prog-basics.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># my_transform computes: (x - min(x))/(max(x) - min(x))</span></span>
<span id="cb40-5"><a href="prog-basics.html#cb40-5" aria-hidden="true" tabindex="-1"></a>x_rescaled <span class="ot">&lt;-</span> <span class="fu">my_transform</span>(x, min, data_range)</span>
<span id="cb40-6"><a href="prog-basics.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x_rescaled)</span>
<span id="cb40-7"><a href="prog-basics.html#cb40-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb40-8"><a href="prog-basics.html#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x_rescaled)</span>
<span id="cb40-9"><a href="prog-basics.html#cb40-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>The <code>data_range</code> function simply subtracts the minimum value of <code>x</code> from the
maximum value and returns the result.</p>
<p>This feature of passing functions as arguments to other functions is a
fundamental property of functional programming languages. Now we are ready to
finally talk about how iteration is performed in R.</p>
<div class="box readmore">
<ul>
<li><a href="https://adv-r.hadley.nz/fp.html">Advanced R - Functional Programming</a></li>
<li><a href="https://www.tutorialspoint.com/functional_programming/index.htm">Functional Programming Tutorial</a></li>
</ul>
</div>
</div>
<div id="apply-and-friends" class="section level3" number="4.8.3">
<h3><span class="header-section-number">4.8.3</span> <code>apply()</code> and friends</h3>
<p>When working with lists and matrices in R, there are often times when you want
to perform a computation on every row or every column separately. A common
example of this in data science mentioned above is feature standardization.
Earlier we wrote a <a href="https://en.wikipedia.org/wiki/Standard_score">Z-score
transformation</a> that accepts a
vector, subtracts the mean from each element, and divides the result by the
standard deviation of the data. This ensures the data has a mean and standard
deviation of 0 and 1, respectively. However, this function only operates on a
single vector of numbers. Large datasets have many <em>features</em>, each of which may
be individual vectors, that we desire to perform this same Z-score
transformation on separately. In other words, we have one function that we wish
to execute on either every row or every column of a matrix and return the
result. This is a form of iteration that can be implemented in a functional
style using the <code>apply</code> function.</p>
<p>This is the signature of the <code>apply</code> function, from the RStudio <code>help(apply)</code>
page:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="prog-basics.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, MARGIN, FUN, ..., <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Here, <code>X</code> is a matrix (i.e. a rectangle of numbers) that we wish to perform a
computation on for either each row or each column. <code>MARGIN</code> indicates whether
the matrix should be traversed by rows (<code>MARGIN=1</code>) or columns (<code>MARGIN=2</code>).
<code>FUN</code> is the name of a function that accepts a vector and returns either a
vector or a scalar value that we wish to execute on either the rows or columns.
<code>apply()</code> then executes <code>FUN</code> on each row or column of <code>X</code> and returns the
result. For example:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="prog-basics.html#cb42-1" aria-hidden="true" tabindex="-1"></a>zscore <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb42-2"><a href="prog-basics.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>((x<span class="sc">-</span><span class="fu">mean</span>(x))<span class="sc">/</span><span class="fu">sd</span>(x))</span>
<span id="cb42-3"><a href="prog-basics.html#cb42-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-4"><a href="prog-basics.html#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># construct a matrix of 50 rows by 100 columns with samples drawn from a normal distribution</span></span>
<span id="cb42-5"><a href="prog-basics.html#cb42-5" aria-hidden="true" tabindex="-1"></a>x_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb42-6"><a href="prog-basics.html#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rnorm</span>(<span class="dv">100</span><span class="sc">*</span><span class="dv">50</span>, <span class="at">mean=</span><span class="dv">20</span>, <span class="at">sd=</span><span class="dv">5</span>),</span>
<span id="cb42-7"><a href="prog-basics.html#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow=</span><span class="dv">50</span>,</span>
<span id="cb42-8"><a href="prog-basics.html#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol=</span><span class="dv">100</span></span>
<span id="cb42-9"><a href="prog-basics.html#cb42-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-10"><a href="prog-basics.html#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co"># z-transform the rows of x_mat, so that each column has mean,sd of 0,1</span></span>
<span id="cb42-11"><a href="prog-basics.html#cb42-11" aria-hidden="true" tabindex="-1"></a>x_mat_zscore  <span class="ot">&lt;-</span> <span class="fu">apply</span>(x_mat, <span class="dv">2</span>, zscore)</span>
<span id="cb42-12"><a href="prog-basics.html#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="co"># we can check that all the columns of x_mat_zscore have mean close to zero with apply too</span></span>
<span id="cb42-13"><a href="prog-basics.html#cb42-13" aria-hidden="true" tabindex="-1"></a>x_mat_zscore_means <span class="ot">&lt;-</span> <span class="fu">apply</span>(x_mat_zscore, <span class="dv">2</span>, mean)</span>
<span id="cb42-14"><a href="prog-basics.html#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="co"># note: due to machine precision errors, these results will not be exactly zero, but are very close</span></span>
<span id="cb42-15"><a href="prog-basics.html#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co"># note: the all() function returns true if all of its arguments are TRUE</span></span>
<span id="cb42-16"><a href="prog-basics.html#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(x_mat_zscore_means<span class="sc">&lt;</span><span class="fl">1e-15</span>)</span>
<span id="cb42-17"><a href="prog-basics.html#cb42-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span></code></pre></div>
<p>The same approach can be used when <code>X</code> is a list or data frame rather than a
matrix using the <code>lapply()</code> function (hint: the <code>l</code> in <code>lapply</code> stands for
“list”). Here is the function signature for <code>lapply</code>:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="prog-basics.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(X, FUN, ...)</span></code></pre></div>
<p>Recall that lists and data frames can be thought of as vectors where each
element can be its own vector. Therefore, there is only one axis along which to
iterate on the elements and there is not <code>MARGIN</code> argument as in <code>apply</code>. This
function returns a new list of the same dimension as the original list with
elements returned by <code>FUN</code>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="prog-basics.html#cb44-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb44-2"><a href="prog-basics.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">feature1=</span><span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">20</span>,<span class="at">sd=</span><span class="dv">10</span>),</span>
<span id="cb44-3"><a href="prog-basics.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">feature2=</span><span class="fu">rnorm</span>(<span class="dv">100</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">5</span>)</span>
<span id="cb44-4"><a href="prog-basics.html#cb44-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-5"><a href="prog-basics.html#cb44-5" aria-hidden="true" tabindex="-1"></a>x_zscore <span class="ot">&lt;-</span> <span class="fu">lapply</span>(x, zscore)</span>
<span id="cb44-6"><a href="prog-basics.html#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># check that the means are close to zero</span></span>
<span id="cb44-7"><a href="prog-basics.html#cb44-7" aria-hidden="true" tabindex="-1"></a>x_zscore_means <span class="ot">&lt;-</span> <span class="fu">lapply</span>(x_zscore, mean)</span>
<span id="cb44-8"><a href="prog-basics.html#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(x_zscore_means <span class="sc">&lt;</span> <span class="fl">1e-15</span>)</span>
<span id="cb44-9"><a href="prog-basics.html#cb44-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span></code></pre></div>
<p>This functional programming pattern might be counter intuitive at first, but it
is well worth your while to learn.</p>
<div class="box readmore">
<p><a href="https://r4ds.had.co.nz/iteration.html">R for Data Science - Iteration</a></p>
</div>
</div>
</div>
<div id="installing-packages" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> Installing Packages</h2>
<p>Advanced functionality in R is provided through <em>packages</em> written and supported
by R community members. With the exception of <a href="biology-bioinformatics.html#bio-bioconductor">bioconductor
packages</a>, all R packages are hosted on the <a href="https://cran.r-project.org/">Comprehensive R
Archive Network</a> (CRAN) web site. At the time of
writing, there are <a href="https://cran.r-project.org/web/packages/index.html">more than 18,000
packages</a> hosted on CRAN
that you can install. To install a package from CRAN, use the <code>install.packages</code>
function in the R console:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="prog-basics.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install one package</span></span>
<span id="cb45-2"><a href="prog-basics.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb45-3"><a href="prog-basics.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install multiple packages</span></span>
<span id="cb45-4"><a href="prog-basics.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;readr&quot;</span>,<span class="st">&quot;dplyr&quot;</span>))</span></code></pre></div>
<div class="box note">
<p>As mentioned above, many packages used in biological data analysis are not
hosted on CRAN, but in <a href="biology-bioinformatics.html#bio-bioconductor">Bioconductor</a>. The Bioconductor
project’s mission is “to develop, support, and disseminate free open source
software that facilitates rigorous and reproducible analysis of data from
current and emerging biological assays.” Practically, this means Bioconductor
packages are subject to stricter standards for documentation, coding conventions
and structure, and standards compliance compared with the relatively more lax
CRAN package submission process.</p>
</div>
</div>
<div id="saving-and-loading-r-data" class="section level2" number="4.10">
<h2><span class="header-section-number">4.10</span> Saving and Loading R Data</h2>
<p>While it is always a good idea to save results in tabular form in <a href="biology-bioinformatics.html#csv-files">CSV Files</a>,
sometimes it is convenient to save complicated R objects and data structures
like lists to a file that can be read back into R easily. This can be done with
the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/readRDS.html"><code>saveRDS()</code> and <code>readRDS()</code></a>
functions:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="prog-basics.html#cb46-1" aria-hidden="true" tabindex="-1"></a>a_complicated_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb46-2"><a href="prog-basics.html#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">categories =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>),</span>
<span id="cb46-3"><a href="prog-basics.html#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_matrix =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>),<span class="at">nrows=</span><span class="dv">2</span>,<span class="at">ncols=</span><span class="dv">3</span>),</span>
<span id="cb46-4"><a href="prog-basics.html#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">nested_list =</span> <span class="fu">list</span>(</span>
<span id="cb46-5"><a href="prog-basics.html#cb46-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">a =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb46-6"><a href="prog-basics.html#cb46-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">b =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb46-7"><a href="prog-basics.html#cb46-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-8"><a href="prog-basics.html#cb46-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-9"><a href="prog-basics.html#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(a_complicated_list, <span class="st">&quot;a_complicated_list.rda&quot;</span>)</span>
<span id="cb46-10"><a href="prog-basics.html#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="prog-basics.html#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co"># later, possibly in a different script</span></span>
<span id="cb46-12"><a href="prog-basics.html#cb46-12" aria-hidden="true" tabindex="-1"></a>a_complicated_list <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;a_complicated_list.rda&quot;</span>)</span></code></pre></div>
<p>These functions are very convenient for saving results of complicated analyses
and reading them back in later, especially if those analyses were time
consuming.</p>
<div class="box note">
<p>R also has the functions
<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/save.html"><code>save()</code></a>
and <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/load.html"><code>load()</code></a>.
These functions are similar to <code>saveRDS</code> and <code>readRDS</code>, except they do not allow
loading individual objects into new variables. Instead, <code>save</code> accepts one or
more variable names that are in the global namespace and saves them all to a
file:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="prog-basics.html#cb47-1" aria-hidden="true" tabindex="-1"></a>var_a <span class="ot">&lt;-</span> <span class="st">&quot;a string&quot;</span></span>
<span id="cb47-2"><a href="prog-basics.html#cb47-2" aria-hidden="true" tabindex="-1"></a>var_b <span class="ot">&lt;-</span> <span class="fl">1.234</span></span>
<span id="cb47-3"><a href="prog-basics.html#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="prog-basics.html#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(var_a, var_b, <span class="at">file=</span><span class="st">&quot;saved_variables.rda&quot;</span>)</span></code></pre></div>
<p>Then later when the file <code>saved_variables.rda</code> is <code>load()</code>ed, the all the
variables saved into the file are loaded into the namespace with their saved
values:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="prog-basics.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assume var_a and var_b are not defined yet</span></span>
<span id="cb48-2"><a href="prog-basics.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;saved_variables.rda&quot;</span>)</span>
<span id="cb48-3"><a href="prog-basics.html#cb48-3" aria-hidden="true" tabindex="-1"></a>var_a</span>
<span id="cb48-4"><a href="prog-basics.html#cb48-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a string&quot;</span></span>
<span id="cb48-5"><a href="prog-basics.html#cb48-5" aria-hidden="true" tabindex="-1"></a>var_b</span>
<span id="cb48-6"><a href="prog-basics.html#cb48-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">1.234</span></span></code></pre></div>
<p>This requires the programmer to remember the names of the variables that were
saved into the file. Also, if there are variables that already exist in the
current environment that are also saved in the file, those variable values will
be overridden possibly without the programmers knowledge or intent. There is no
way to change the variable names of variable saved in this way. For these
reasons, <code>saveRDS</code> and <code>loadRDS</code> are generally safer to use as you can be more
explicit about what you are saving and loading.</p>
</div>
<div class="box readmore">
<ul>
<li><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/readRDS.html"><code>saveRDS()</code> and <code>readRDS()</code> R manual</a></li>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/readRDS"><code>readRDS()</code> and <code>saveRDS()</code> official documentation</a></li>
</ul>
</div>
</div>
<div id="prog-debugging" class="section level2" number="4.11">
<h2><span class="header-section-number">4.11</span> Troubleshooting and Debugging</h2>
<p><strong>Bugs in code are normal.</strong> You are not a bad programmer if your code has bugs
(thank goodness!). However, some bugs can be very difficult to fix, and some are
even difficult to find. You will spend a substantial amount of time debugging
your code in R, especially as you are learning the language and its many quirks.
You will encounter R error and warning messages routinely during development,
and not all of them are straightforward to understand. It is important that you
learn how to seek the answers to the problems R reports on your own; your
colleagues (and instructors!) will thank you for it.</p>
<p>There is no standard approach to debugging, but here we borrow ideas from
<a href="https://adv-r.hadley.nz/debugging.html#debugging-strategy">Hadley Wickam’s excellent section on debugging in his Advanced R
book</a>:</p>
<ol style="list-style-type: decimal">
<li><strong>Google!</strong> - copy and paste the error into google and see what comes back.
Especially when starting out, the errors you receive have been encountered
countless times by others before you, and solutions/explanations of them are
already out there. If you aren’t already familiar with <a href="https://stackoverflow.com/">Stack
Overflow</a>, you will be very soon.</li>
<li><strong>Make it repeatable</strong> - When you encounter an error, don’t change anything
in your code and try again to make sure you get the same error again. This
may require you to isolate the code with the error in a different setting to
make it more easy to run. If you do, this means the error is repeatable, or
replicable, and you can now try modifying the code in question to see if and
how the error changes.</li>
<li><strong>Find out where the bug is</strong>* - Most bugs involve multiple lines of code,
only a subset of which contains the actual error. Sometimes the exact line
where the error occurs is obvious, but other times the error is a consequence
of a mistake assumption made earlier in the code.</li>
<li><strong>Fix it and test it</strong> - When you have identified the specific issue causing
the bug, modify the code so it produces the correct result and then
rigorously test your fix to make sure it is correct. Sometimes making one
change to code causes side effects elsewhere in your code in ways that are
difficult to predict. Ideally, you have already written <a href="#prog-testing">unit
tests</a> that explicitly test parts of your code, but if not you
will need to use other means of convincing yourself that your fix worked.</li>
</ol>
<p>This debugging process will become second nature as you work more in R.</p>
<p>Practically speaking, the most basic debugging method is to run code that isn’t
working the way it should, print out intermediate results to inspect the state
of your variables, and make adjustments accordingly. In RStudio, the Environment
Inspector in the top right of the interface makes inspecting the current values
of your variables very easy. You can also easily execute lines of code from your
script in the interpreter at the bottom right using <code>Cntl-Enter</code> and test out
modifications there.</p>
<p>Sometimes you will be working with highly nested data structures like lists of
lists. These objects can be difficult to inspect due to their size. The <code>str()</code>
function, which stands for <code>str</code>ucture, will pretty print an object with its
values and its structure:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="prog-basics.html#cb49-1" aria-hidden="true" tabindex="-1"></a>nested_lists <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb49-2"><a href="prog-basics.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">a=</span><span class="fu">list</span>(</span>
<span id="cb49-3"><a href="prog-basics.html#cb49-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">item1=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb49-4"><a href="prog-basics.html#cb49-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">item2=</span><span class="fu">c</span>(<span class="st">&#39;A&#39;</span>,<span class="st">&#39;B&#39;</span>,<span class="st">&#39;C&#39;</span>)</span>
<span id="cb49-5"><a href="prog-basics.html#cb49-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb49-6"><a href="prog-basics.html#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">b=</span><span class="fu">list</span>(</span>
<span id="cb49-7"><a href="prog-basics.html#cb49-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">var1=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb49-8"><a href="prog-basics.html#cb49-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">var2=</span><span class="dv">100</span><span class="sc">:</span><span class="dv">110</span>,</span>
<span id="cb49-9"><a href="prog-basics.html#cb49-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">var3=</span><span class="dv">1000</span><span class="sc">:</span><span class="dv">1010</span></span>
<span id="cb49-10"><a href="prog-basics.html#cb49-10" aria-hidden="true" tabindex="-1"></a>  ),  </span>
<span id="cb49-11"><a href="prog-basics.html#cb49-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">c=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">6</span>,<span class="dv">5</span>)</span>
<span id="cb49-12"><a href="prog-basics.html#cb49-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-13"><a href="prog-basics.html#cb49-13" aria-hidden="true" tabindex="-1"></a>nested_lists</span>
<span id="cb49-14"><a href="prog-basics.html#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a</span>
<span id="cb49-15"><a href="prog-basics.html#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a<span class="sc">$</span>item1</span>
<span id="cb49-16"><a href="prog-basics.html#cb49-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb49-17"><a href="prog-basics.html#cb49-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-18"><a href="prog-basics.html#cb49-18" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a<span class="sc">$</span>item2</span>
<span id="cb49-19"><a href="prog-basics.html#cb49-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span></span>
<span id="cb49-20"><a href="prog-basics.html#cb49-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-21"><a href="prog-basics.html#cb49-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-22"><a href="prog-basics.html#cb49-22" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>b</span>
<span id="cb49-23"><a href="prog-basics.html#cb49-23" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>b<span class="sc">$</span>var1</span>
<span id="cb49-24"><a href="prog-basics.html#cb49-24" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span> <span class="dv">10</span></span>
<span id="cb49-25"><a href="prog-basics.html#cb49-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-26"><a href="prog-basics.html#cb49-26" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>b<span class="sc">$</span>var2</span>
<span id="cb49-27"><a href="prog-basics.html#cb49-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">100</span> <span class="dv">101</span> <span class="dv">102</span> <span class="dv">103</span> <span class="dv">104</span> <span class="dv">105</span> <span class="dv">106</span> <span class="dv">107</span> <span class="dv">108</span> <span class="dv">109</span> <span class="dv">110</span></span>
<span id="cb49-28"><a href="prog-basics.html#cb49-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-29"><a href="prog-basics.html#cb49-29" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>b<span class="sc">$</span>var3</span>
<span id="cb49-30"><a href="prog-basics.html#cb49-30" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">1000</span> <span class="dv">1001</span> <span class="dv">1002</span> <span class="dv">1003</span> <span class="dv">1004</span> <span class="dv">1005</span> <span class="dv">1006</span> <span class="dv">1007</span> <span class="dv">1008</span> <span class="dv">1009</span> <span class="dv">1010</span></span>
<span id="cb49-31"><a href="prog-basics.html#cb49-31" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nested_lists)</span>
<span id="cb49-32"><a href="prog-basics.html#cb49-32" aria-hidden="true" tabindex="-1"></a>List of <span class="dv">3</span></span>
<span id="cb49-33"><a href="prog-basics.html#cb49-33" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> a<span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb49-34"><a href="prog-basics.html#cb49-34" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> item1<span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb49-35"><a href="prog-basics.html#cb49-35" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> item2<span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="st">&quot;A&quot;</span> <span class="st">&quot;B&quot;</span> <span class="st">&quot;C&quot;</span></span>
<span id="cb49-36"><a href="prog-basics.html#cb49-36" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> b<span class="sc">:</span>List of <span class="dv">3</span></span>
<span id="cb49-37"><a href="prog-basics.html#cb49-37" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> var1<span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span></span>
<span id="cb49-38"><a href="prog-basics.html#cb49-38" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> var2<span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>] <span class="dv">100</span> <span class="dv">101</span> <span class="dv">102</span> <span class="dv">103</span> <span class="dv">104</span> <span class="dv">105</span> <span class="dv">106</span> <span class="dv">107</span> <span class="dv">108</span> <span class="dv">109</span> ...</span>
<span id="cb49-39"><a href="prog-basics.html#cb49-39" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> var3<span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>] <span class="dv">1000</span> <span class="dv">1001</span> <span class="dv">1002</span> <span class="dv">1003</span> <span class="dv">1004</span> <span class="dv">1005</span> <span class="dv">1006</span> <span class="dv">1007</span> <span class="dv">1008</span> <span class="dv">1009</span> ...</span>
<span id="cb49-40"><a href="prog-basics.html#cb49-40" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> c<span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="dv">10</span> <span class="dv">9</span> <span class="dv">8</span> <span class="dv">7</span> <span class="dv">6</span> <span class="dv">5</span></span></code></pre></div>
<p>The output <code>str</code> is more concise and descriptive than simply printing out the
object.</p>
<p>RStudio has many more debugging tools you can use. Check out the section on
debugging in Hadley Wickam’s Advanced R book in the Read More box for
description of these tools.</p>
<div class="box readmore">
<p><a href="https://rstudio-education.github.io/hopr/debug.html">Hands-On Programming with R - Debugging R Code</a>
<a href="https://adv-r.hadley.nz/debugging.html">Advanced R - Debugging</a></p>
</div>
</div>
<div id="prog-style" class="section level2" number="4.12">
<h2><span class="header-section-number">4.12</span> Coding Style and Conventions</h2>
<p>Some very common worries among new programmers is: “Is my code terrible? How do
I write good code?” There is no gold standard for what makes code “good,” but
there are some questions you can ask of your code as a guide:</p>
<div id="is-my-code-correct" class="section level3" number="4.12.1">
<h3><span class="header-section-number">4.12.1</span> Is my code correct?</h3>
<p>Does it produce the desired output? This is pretty obviously important in
principle, but it can be difficult to be sure that your code is correct. This is
especially difficult if your codebase is large and complicated as it tends to
become over time. While simple <a href="prog-basics.html#prog-debugging">trial and error</a> is an effective
first approach, a more reliable albeit time- and thought-intensive strategy is
to write <a href="#prog-testing">explicit tests</a> for your code and run them regularly.</p>
</div>
<div id="does-my-code-follow-the-dry-principle" class="section level3" number="4.12.2">
<h3><span class="header-section-number">4.12.2</span> Does my code follow the <a href="prog-basics.html#prog-dry">DRY principle</a>?</h3>
<p>Don’t Repeat Yourself (DRY) is a powerful and helpful strategy to make your
code more reliable. This typically involves identifying common patterns in your
code and moving them to functions or objects.</p>
</div>
<div id="did-i-choose-concise-but-descriptive-variable-and-function-names" class="section level3" number="4.12.3">
<h3><span class="header-section-number">4.12.3</span> Did I choose concise but descriptive variable and function names?</h3>
<p>Variable and function names should be descriptive when necessary and not too
long. Try to put yourself in the shoes of someone who is reading your code for
the first time and see if you can figure out what it does. Better yet, offer to
buy a friend a coffee in return for them looking at it!</p>
</div>
<div id="did-i-use-indentation-and-naming-conventions-consistently-throughout-my-code" class="section level3" number="4.12.4">
<h3><span class="header-section-number">4.12.4</span> Did I use indentation and naming conventions consistently throughout my code?</h3>
<p>Consistently formatted code is much easier to read (and possibly understand)
than inconsistent code. Consider the following code example:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="prog-basics.html#cb50-1" aria-hidden="true" tabindex="-1"></a>calcVal <span class="ot">&lt;-</span> <span class="cf">function</span>(x, a, <span class="at">arg=</span><span class="dv">2</span>) { <span class="fu">return</span>(<span class="fu">sum</span>(x<span class="sc">*</span>a)<span class="sc">**</span><span class="dv">2</span>)}</span>
<span id="cb50-2"><a href="prog-basics.html#cb50-2" aria-hidden="true" tabindex="-1"></a>calc_val_2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, a, b, arg) {</span>
<span id="cb50-3"><a href="prog-basics.html#cb50-3" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">sum</span>(b<span class="sc">+</span>a<span class="sc">*</span>x)<span class="sc">**</span>arg</span>
<span id="cb50-4"><a href="prog-basics.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(res)}</span></code></pre></div>
<p>This code is inconsistent in several ways:</p>
<ul>
<li>naming conventions - <code>calcVal</code> is camel case, <code>calc_val_2</code> is snake case</li>
<li>new lines and whitespace - <code>calcVal</code> is all on one line, <code>calc_val_2</code> is on
multiple lines</li>
<li>unhelpful indentation - <code>calc_val_2</code> has a function body that is not indented,
and the close curly brace is appended to the last line of the body</li>
<li>unhelpful function and argument names - the function names describe very
little about what the functions do, and the argument names <code>x</code>, <code>a</code>, etc are
not very descriptive about what they represent</li>
<li>unused function arguments - the <code>arg</code> argument in <code>calcVal</code> isn’t used
anywhere in the function</li>
<li>the two functions appear to do something very similar and could be made
simpler using a default argument</li>
</ul>
<p>A more consistent version of this code might look like:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="prog-basics.html#cb51-1" aria-hidden="true" tabindex="-1"></a>exponent_product <span class="ot">&lt;-</span> <span class="cf">function</span>(x, a, <span class="at">offset=</span><span class="dv">0</span>, <span class="at">arg=</span><span class="dv">2</span>) {</span>
<span id="cb51-2"><a href="prog-basics.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(offset<span class="sc">+</span>a<span class="sc">*</span>x)<span class="sc">**</span>arg)</span>
<span id="cb51-3"><a href="prog-basics.html#cb51-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>This code is much cleaner, more consistent, and easier to read.</p>
</div>
<div id="did-i-write-comments-especially-when-what-the-code-does-is-not-obvious" class="section level3" number="4.12.5">
<h3><span class="header-section-number">4.12.5</span> Did I write comments, especially when what the code does is not obvious?</h3>
<p>Sometimes what a piece of code does is obvious from looking at it:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="prog-basics.html#cb52-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<p>Clearly this line of code takes the value of <code>x</code>, whatever it is, and adds 1 to
it. However, it may not be obvious <em>why</em> a piece of code does what it does. In
these cases, it may be very helpful to record your thinking about a line of code
as a comment:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="prog-basics.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add 1 as a pseudocount</span></span>
<span id="cb53-2"><a href="prog-basics.html#cb53-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<p>Then when you or someone else reads the code, it will be obvious what you were
thinking when you wrote it. In your career, you <em>will</em> encounter situations
where you need to figure out what you were thinking when you wrote a piece of
code. <strong>Endeavor to make future you proud of current you!</strong></p>
</div>
<div id="how-easy-would-it-be-for-someone-else-to-understand-my-code" class="section level3" number="4.12.6">
<h3><span class="header-section-number">4.12.6</span> How easy would it be for someone else to understand my code?</h3>
<p>If someone else who has never seen my code before is asked to run and understand
it, how easy would it be for them to do so?</p>
</div>
<div id="is-my-code-easy-to-maintainchange" class="section level3" number="4.12.7">
<h3><span class="header-section-number">4.12.7</span> Is my code easy to maintain/change?</h3>
<p>This is related to the previous question, but is distinct in that understanding
what code does is just the first step in being able to make desired changes to
it.</p>
</div>
<div id="the-styler-package-." class="section level3" number="4.12.8">
<h3><span class="header-section-number">4.12.8</span> The <code>styler</code> package .</h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preliminaries.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-wrangling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
